{"version":3,"file":"rx-util.min.js","sources":["../src/module/async/download.js","../node_modules/regenerator-runtime/runtime.js","../node_modules/@babel/runtime/helpers/asyncToGenerator.js","../src/module/async/downloadString.js","../src/module/async/downloadUrl.js","../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/@babel/runtime/helpers/slicedToArray.js","../src/module/async/loadResource.js","../node_modules/@babel/runtime/helpers/classCallCheck.js","../src/module/async/parseUrl.js","../src/module/async/readLocal.js","../src/module/date/dateFormat.js","../src/module/async/spliceParams.js","../src/module/function/wait.js","../src/module/async/fetchTimeout.js","../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/iterableToArray.js","../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../node_modules/@babel/runtime/helpers/toConsumableArray.js","../node_modules/@babel/runtime/helpers/createClass.js","../src/module/async/FetchLimiting.js","../src/module/array/asIterator.js","../src/module/array/asyncFlatMap.js","../src/module/array/flatMap.js","../src/module/array/groupBy.js","../src/module/array/range.js","../src/module/function/returnItself.js","../src/module/array/arrayToMap.js","../src/module/string/fill.js","../src/module/dom/lastFocus.js","../src/module/date/dateParse.js","../src/module/dom/getCusorPostion.js","../src/module/dom/setCusorPostion.js","../src/module/obj/isNullOrUndefined.js","../src/module/string/toLowerCase.js","../src/module/function/safeExec.js","../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/construct.js","../src/module/function/StateMachine.js","../src/module/function/timing.js","../src/module/string/stringValidator.js","../src/module/string/toUpperCase.js","../src/module/string/blankToNull.js","../src/module/obj/getObjectKeys.js","../src/module/obj/excludeFields.js","../src/module/date/dateConstants.js","../src/module/number/isRange.js","../src/module/date/DateConstants.js","../src/module/date/dateEnhance.js","../src/module/date/dateBetween.js","../src/module/function/once.js","../src/module/function/onceOfSameParam.js","../src/module/array/arrayDiffBy.js","../src/module/number/autoIncrement.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/inherits.js","../src/module/string/StringConverter.js","../src/module/function/curry.js","../src/module/date/DateFormatter.js","../node_modules/@babel/runtime/helpers/defineProperty.js","../node_modules/@babel/runtime/helpers/objectSpread.js","../src/module/cache/CacheOption.js","../src/module/obj/getObjectEntries.js","../src/module/obj/assign.js","../src/module/cache/ICache.js","../src/module/cache/CacheVal.js","../src/module/cache/LocalStorageCache.js","../src/module/cache/cacheUtil.js","../src/module/function/emptyFunc.js","../src/module/hook/antiDebug.js","../src/module/array/arrayValidator.js","../src/module/string/pathUtil.js","../src/module/hook/logger.js","../src/module/obj/objectToMap.js","../src/module/function/bridge.js","../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../node_modules/@babel/runtime/helpers/objectWithoutProperties.js","../src/module/tree/treeMapping.js","../src/module/tree/NodeBridge.js","../src/module/tree/nodeBridgeUtil.js","../src/module/obj/aggregation.js","../src/module/function/Locker.js","../src/module/formdata/appends.js","../src/module/function/asyncLimiting.js","../src/module/obj/blankToNullField.js","../src/module/obj/compare.js","../src/module/function/compose.js","../src/module/dom/copyText.js","../src/module/dom/createElByString.js","../src/module/function/debounce.js","../src/module/obj/deepFreeze.js","../src/module/obj/getObjectValues.js","../src/module/obj/deepProxy.js","../src/module/formdata/deletes.js","../src/module/function/deny.js","../src/module/obj/emptyAllField.js","../src/module/obj/excludeFieldsDeep.js","../src/module/array/filterItems.js","../src/module/number/floatEquals.js","../src/module/formdata/formDataToArray.js","../src/module/string/format.js","../src/module/async/getCookies.js","../src/module/date/getYearWeek.js","../src/module/dom/insertText.js","../src/module/string/isBlank.js","../src/module/dom/isEditable.js","../src/module/string/isEmpty.js","../src/module/string/isFloat.js","../src/module/string/isNumber.js","../src/module/tree/listToTree.js","../src/module/async/loadScript.js","../src/module/obj/mapToObject.js","../src/module/formdata/objToFormData.js","../src/module/number/randomInt.js","../src/module/dom/removeEl.js","../src/module/dom/removeText.js","../src/module/function/returnReasonableItself.js","../src/module/formdata/sets.js","../src/module/function/singleModel.js","../src/module/function/sleep.js","../src/module/array/sortBy.js","../src/module/async/strToArrayBuffer.js","../src/module/date/strToDate.js","../src/module/function/throttle.js","../src/module/array/toObject.js","../src/module/string/toString.js","../src/module/tree/treeToList.js","../src/module/function/trySometime.js","../src/module/function/trySometimeParallel.js","../src/module/array/uniqueBy.js","../src/module/function/waitResource.js","../src/module/function/watch.js","../src/module/event/watchEventListener.js","../src/module/function/watchObject.js"],"sourcesContent":["/**\r\n * 在浏览器上下载二进制资源\r\n * @param {Blob} blob 要下载的二进制资源\r\n * @param {String} filename 文件名\r\n */\r\nexport function download (blob, filename = 'unknown') {\r\n  // 创建隐藏的可下载链接\r\n  const eleLink = document.createElement('a')\r\n  eleLink.download = filename\r\n  eleLink.style.display = 'none'\r\n  // 为 link 赋值\r\n  eleLink.href = URL.createObjectURL(blob)\r\n  // 触发点击\r\n  document.body.appendChild(eleLink)\r\n  eleLink.click()\r\n  // 然后移除\r\n  document.body.removeChild(eleLink)\r\n}\r\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","import { download } from './download'\r\n\r\n/**\r\n * 在浏览器上下载文本内容\r\n * @param {String} str 字符串内容\r\n * @param {String} [filename='unknown.txt'] 下载文件名，没有则默认为链接中的文件名\r\n */\r\nexport async function downloadString (str, filename = 'unknown.txt') {\r\n  const blob = new Blob([str], {\r\n    type: 'text/plain',\r\n  })\r\n  download(blob, filename)\r\n}\r\n","import { download } from './download'\r\n\r\n/**\r\n * 根据 url 下载二进制资源\r\n * @param {String} url 下载请求信息\r\n * @param {String} [filename] 下载文件名，没有则默认为链接中的文件名\r\n */\r\nexport async function downloadUrl (\r\n  url,\r\n  filename = url.substr(url.lastIndexOf('/'))\r\n) {\r\n  try {\r\n    const res = await fetch(url)\r\n    const blob = await res.blob()\r\n    download(blob, filename)\r\n  } catch (error) {\r\n    return console.log('下载出错了 ', error)\r\n  }\r\n}\r\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","/**\r\n * 将 url 中的内容加载到元素上\r\n * 注：domSelector 必须有 src 属性用以将加载完成的资源赋值给其，加载默认是异步的\r\n * @param {RequestInfo} url url 资源\r\n * @param {HTMLImageElement | HTMLAudioElement | HTMLVideoElement | HTMLTrackElement | HTMLScriptElement} dom dom 元素\r\n * @param {RequestInit} [init] 初始化参数, 实为 fetch() 的参数以及一些自定义的参数，默认 {}\r\n * 关于 fetch 具体可以参考 <https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API/Using_Fetch>\r\n */\r\nexport async function loadResource (url, dom, init = {}) {\r\n  const res = await fetch(url, init)\r\n  const blob = await res.blob()\r\n  // 生成一个本地的 url 并赋值给 src 属性\r\n  dom.src = window.URL.createObjectURL(blob)\r\n}\r\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","/**\r\n * Url 对象\r\n * @class UrlObject\r\n */\r\nclass UrlObject {\r\n  /**\r\n   * 构造函数\r\n   * @param {Object} option 可选项\r\n   * @param {String} [option.href=''] 不包含网站域名的链接\r\n   * @param {String} [option.website=''] URL 站点\r\n   * @param {String} [option.protocol=''] 协议\r\n   * @param {String} [option.domain=''] 域名\r\n   * @param {String} [option.accessPath=''] 绝对路径,不包含参数\r\n   * @param {Object} [option.params={}] 参数列表,\r\n   * @param {String} [option.url=''] 原 url 链接\r\n   * @param {Number} [option.port=0] 端口号\r\n   */\r\n  constructor ({\r\n    href = '',\r\n    website = '',\r\n    protocol = '',\r\n    domain = '',\r\n    accessPath = '',\r\n    params = {},\r\n    url = '',\r\n    port = 0,\r\n  } = {}) {\r\n    /**\r\n     * @type {String} 不包含网站域名的链接\r\n     */\r\n    this.href = href\r\n    /**\r\n     * @type {String} URL 站点\r\n     */\r\n    this.website = website\r\n    /**\r\n     * @type {String} 协议\r\n     */\r\n    this.protocol = protocol\r\n    /**\r\n     * @type {String} 域名\r\n     */\r\n    this.domain = domain\r\n    /**\r\n     * @type {String} 绝对路径,不包含参数\r\n     */\r\n    this.accessPath = accessPath\r\n    /**\r\n     * @type {Object} 参数列表,\r\n     */\r\n    this.params = params\r\n    /**\r\n     * @type {String} 原 url 链接\r\n     */\r\n    this.url = url\r\n    /**\r\n     * @type {Number} 端口号\r\n     */\r\n    this.port = port\r\n  }\r\n}\r\n\r\n/**\r\n * 协议与默认端口映射表\r\n */\r\nconst protocol2Port = {\r\n  http: 80,\r\n  https: 443,\r\n  ssh: 22,\r\n  ftp: 21,\r\n}\r\n\r\n/**\r\n * 解析 url 字符串\r\n * @param {String} url url 字符串，不能为空\r\n * @returns {UrlObject} url 对象\r\n */\r\nexport function parseUrl (url) {\r\n  if (!url) {\r\n    throw new Error('url 不能为空')\r\n  }\r\n\r\n  const regexp = new RegExp('^((\\\\w+)://([\\\\w\\\\.]*)(:(\\\\d+))?)(.*)')\r\n  const temps = regexp.exec(url)\r\n  const res = new UrlObject({\r\n    url: url,\r\n    website: temps[1],\r\n    protocol: temps[2],\r\n    domain: temps[3],\r\n    // @ts-ignore\r\n    port: temps[5],\r\n    href: temps[6],\r\n  })\r\n  let temp = url.substr(res.website.length)\r\n  const markIndex = temp.indexOf('?')\r\n  if (markIndex === -1) {\r\n    res.accessPath = temp\r\n    return res\r\n  }\r\n  res.accessPath = temp.substr(0, markIndex)\r\n  if (res.accessPath.endsWith('/')) {\r\n    res.accessPath = res.accessPath.substring(0, res.accessPath.length - 1)\r\n  }\r\n  res.port = res.port || protocol2Port[res.protocol] || ''\r\n  // 解析参数列表\r\n  res.params = temp\r\n    .substr(markIndex + 1)\r\n    .split('&')\r\n    .map(str => str.split('='))\r\n    .filter(arr => arr[0] !== '')\r\n    .reduce((params, arr) => {\r\n      const k = decodeURIComponent(arr[0])\r\n      const v = decodeURIComponent(arr.length === 1 ? '' : arr[1])\r\n      // 如果已经存在了就认为是数组参数\r\n      const vs = params[k]\r\n      if (vs !== undefined) {\r\n        if (!Array.isArray(vs)) {\r\n          params[k] = [vs]\r\n        }\r\n        params[k].push(v)\r\n      } else {\r\n        params[k] = v\r\n      }\r\n      return params\r\n    }, {})\r\n  return res\r\n}\r\n","/**\r\n * 读取本地浏览器选择的文件\r\n * @param {File} file 选择的文件\r\n * @param {Object} option 可选项参数\r\n * @param { readLocal.DataURL | readLocal.Text | readLocal.BinaryString | readLocal.ArrayBuffer } [option.type=readLocal.DataURL] 读取的类型，默认按照二进制 url 读取\r\n * @param {String} [option.encoding='UTF-8'] 读取的编码格式，默认为 UTF-8\r\n * @returns {Promise} 返回了读取到的内容（异步）\r\n */\r\nexport function readLocal (\r\n  file,\r\n  { type = readLocal.DataURL, encoding = 'UTF-8' } = {}\r\n) {\r\n  return new Promise((resolve, reject) => {\r\n    if (!file) {\r\n      reject(new Error('file not exists'))\r\n    }\r\n    const fr = new FileReader()\r\n    fr.onload = event => {\r\n      // @ts-ignore\r\n      resolve(event.target.result)\r\n    }\r\n    fr.onerror = error => {\r\n      reject(error)\r\n    }\r\n    fr[type](file, encoding)\r\n  })\r\n}\r\nreadLocal.DataURL = 'readAsDataURL'\r\nreadLocal.Text = 'readAsText'\r\nreadLocal.BinaryString = 'readAsBinaryString'\r\nreadLocal.ArrayBuffer = 'readAsArrayBuffer'\r\n","/**\r\n * 为 js 中的 Date 对象原型添加 format 格式化方法\r\n * @param {Date} date 要进行格式化的日期\r\n * @param {String} fmt 日期的格式\r\n * @returns {String} 格式化得到的结果\r\n */\r\nexport function dateFormat (date, fmt) {\r\n  const o = {\r\n    'y+': date.getFullYear(),\r\n    'M+': date.getMonth() + 1, // 月份\r\n    'd+': date.getDate(), // 日\r\n    'h+': date.getHours(), // 小时\r\n    'm+': date.getMinutes(), // 分\r\n    's+': date.getSeconds(), // 秒\r\n    'q+': Math.floor((date.getMonth() + 3) / 3), // 季度\r\n    'S+': date.getMilliseconds(), // 毫秒\r\n  }\r\n  for (const k in o) {\r\n    if (!new RegExp('(' + k + ')').test(fmt)) {\r\n      continue\r\n    }\r\n    if (k === 'y+') {\r\n      fmt = fmt.replace(RegExp.$1, ('' + o[k]).substr(4 - RegExp.$1.length))\r\n    } else if (k === 'S+') {\r\n      let lens = RegExp.$1.length\r\n      lens = lens === 1 ? 3 : lens\r\n      fmt = fmt.replace(\r\n        RegExp.$1,\r\n        ('00' + o[k]).substr(('' + o[k]).length - 1, lens)\r\n      )\r\n    } else {\r\n      fmt = fmt.replace(\r\n        RegExp.$1,\r\n        RegExp.$1.length === 1 ? o[k] : ('00' + o[k]).substr(('' + o[k]).length)\r\n      )\r\n    }\r\n  }\r\n  return fmt\r\n}\r\n","import { dateFormat } from '../date/dateFormat'\r\n\r\n/**\r\n * 默认的日期格式\r\n * 不加 Z 为本地日期时间\r\n */\r\nconst deteFormatter = 'yyyy-MM-ddThh:mm:ss.SSS'\r\n/**\r\n * 编码函数\r\n * @param {String} k 参数的名字\r\n * @param {String} v 参数的值\r\n */\r\nconst encode = (k, v) => encodeURIComponent(k) + '=' + encodeURIComponent(v)\r\n\r\n/**\r\n * 拼接参数字符串\r\n * @param {Object} params 参数对象\r\n * @returns {String} 拼接后的字符串\r\n */\r\nexport function spliceParams (params = {}) {\r\n  if (!(params instanceof Object)) {\r\n    throw new Error(`The parameter type must be Object: ${params}`)\r\n  }\r\n  return Array.from(Object.entries(params)).reduce((res, [k, v]) => {\r\n    if (v === undefined || v === null) {\r\n      return res\r\n    } else if (v instanceof Date) {\r\n      res += encode(k, dateFormat(v, deteFormatter))\r\n    } else if (v instanceof Array) {\r\n      res += v\r\n        .map(item =>\r\n          encode(\r\n            k,\r\n            item instanceof Date ? dateFormat(item, deteFormatter) : item\r\n          )\r\n        )\r\n        .join('&')\r\n    } else {\r\n      res += encode(k, v)\r\n    }\r\n    return (res += '&')\r\n  }, '')\r\n}\r\n","/**\r\n * 等待指定的时间/等待指定表达式成立\r\n * 如果未指定等待条件则立刻执行\r\n * 注: 此实现会存在宏任务与微任务的问题，切记 async-await 本质上还是 Promise 的语法糖，实际上并非真正的同步函数！！！\r\n * @param {Number|Function} [param] 等待时间/等待条件\r\n * @returns {Promise} Promise 对象\r\n */\r\nexport function wait (param) {\r\n  return new Promise(resolve => {\r\n    if (typeof param === 'number') {\r\n      setTimeout(resolve, param)\r\n    } else if (typeof param === 'function') {\r\n      const timer = setInterval(() => {\r\n        if (param()) {\r\n          clearInterval(timer)\r\n          resolve()\r\n        }\r\n      }, 100)\r\n    } else {\r\n      resolve()\r\n    }\r\n  })\r\n}\r\n","import { wait } from '../function/wait'\r\n\r\n/**\r\n * 为 fetch 请求添加超时选项\r\n * 注：超时选项并非真正意义上的超时即取消请求，请求依旧正常执行完成，但会提前返回 reject 结果\r\n * @param {Promise} fetchPromise fetch 请求的 Promise\r\n * @param {Number} timeout 超时时间\r\n * @returns {Promise} 如果超时就提前返回 reject, 否则正常返回 fetch 结果\r\n */\r\nexport function fetchTimeout (fetchPromise, timeout) {\r\n  return Promise.race([fetchPromise, wait(timeout)])\r\n}\r\n","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","import { wait } from '../function/wait'\r\nimport { fetchTimeout } from './fetchTimeout'\r\n\r\n/**\r\n * 限制并发请求数量的 fetch 封装\r\n * @class FetchLimiting\r\n * @example\r\n * const fetchLimiting = new FetchLimiting()\r\n * fetchLimiting._fetch('/')\r\n *   .then(res => res.json())\r\n *   .then(json => console.log(json))\r\n */\r\nexport class FetchLimiting {\r\n  /**\r\n   * 构造函数\r\n   * @param {Object} [option] 可选配置项\r\n   * @param {Number} [option.timeout=10000] 超时毫秒数\r\n   * @param {Number} [option.limit=10] 最大并发数限制\r\n   */\r\n  constructor ({ timeout = 10000, limit = 10 }) {\r\n    /**\r\n     * @field timeout 超时毫秒数\r\n     */\r\n    this.timeout = timeout\r\n    /**\r\n     * @field limit 最大并发数限制\r\n     */\r\n    this.limit = limit\r\n    /**\r\n     * @field execCount 当前正在执行异步的数量\r\n     */\r\n    this.execCount = 0\r\n    /**\r\n     * @field waitArr 等待的队列\r\n     * @type {Array.<IArguments>}\r\n     */\r\n    this.waitArr = []\r\n  }\r\n\r\n  /**\r\n   * 执行一个请求\r\n   * 如果到达最大并发限制时就进行等待\r\n   * @param {RequestInfo} url 请求 url 信息\r\n   * @param {RequestInit} [init=undefined] 请求的其他可选项，默认为 undefined\r\n   * @returns {Promise} 如果超时就提前返回 reject, 否则正常返回 fetch 结果\r\n   */\r\n  async fetch (url, init) {\r\n    const _innerFetch = async () => {\r\n      this.execCount++\r\n      const args = this.waitArr.shift()\r\n      try {\r\n        // 这里的 args 实际上就是 arguments 对象，即上面的 url 和 init\r\n        // @ts-ignore\r\n        return await fetchTimeout(fetch(...args), this.timeout)\r\n      } finally {\r\n        this.execCount--\r\n      }\r\n    }\r\n    this.waitArr.push(arguments)\r\n    await wait(() => this.execCount < this.limit)\r\n    // 尝试启动等待队列\r\n    return _innerFetch()\r\n  }\r\n}\r\n","/**\r\n * 将一个 Iterator 迭代器转换为一个 Array\r\n * 目前 {@override Array.from} 已取代改函数\r\n * @param {Iterator.<Object>} iterator Iterator 迭代器\r\n * @return {Array.<Object>} Iterator 中每一项元素转换而得到的 Array\r\n */\r\nexport function asIterator (iterator) {\r\n  const arr = []\r\n  while (true) {\r\n    const next = iterator.next()\r\n    if (next.done) {\r\n      break\r\n    }\r\n    arr.push(next.value)\r\n  }\r\n  return arr\r\n}\r\n","/**\r\n * 将数组异步压平一层\r\n * @param {Array.<Object>} arr 数组\r\n * @param {Function} fn 映射函数，将一个元素映射为一个数组\r\n * @returns {Promise.<Array.<Object>>} 压平一层的数组\r\n */\r\nexport async function asyncFlatMap (arr, fn) {\r\n  const res = []\r\n  for (let i = 0; i < arr.length; i++) {\r\n    res.push(...(await fn(arr[i])))\r\n  }\r\n  return res\r\n}\r\n","/**\r\n * 自行实现 flatMap，将数组压平一层\r\n * @param {Array.<Object>} arr 数组\r\n // @ts-ignore\r\n * @param {function(item:Object):Array.<Object>} fn 映射方法，将一个元素映射为一个数组\r\n * @returns {Array.<Object>} 压平一层的数组\r\n */\r\nexport function flatMap (arr, fn) {\r\n  // @ts-ignore\r\n  return arr.reduce((res, item, ...args) => res.concat(fn(item, ...args)), [])\r\n}\r\n","/**\r\n * js 数组按照某个条件进行分组\r\n *\r\n * @param {Array<Object>} arr 要进行分组的数组\r\n * @param {Function} kFn 元素分组的唯一标识函数\r\n * @param {Function} [vFn] 元素分组的值处理的函数。第一个参数是累计值，第二个参数是当前正在迭代的元素，如果你使用过 {@link Array#reduce} 函数的话应该对此很熟悉\r\n * @param {Function} [init=[]] 每个分组的产生初始值的函数。类似于 reduce 的初始值，但它是一个函数，避免初始值在所有分组中进行累加。\r\n * @returns {Map<Object,Object>} 元素标识 -> 数组映射 Map\r\n */\r\nexport function groupBy (\r\n  arr,\r\n  kFn,\r\n  /**\r\n   * 默认的值处理函数\r\n   * @param {Map} res 最终 map 集合\r\n   * @param {Object} item 当前迭代的元素\r\n   */\r\n  vFn = (res, item) => {\r\n    res.push(item)\r\n    return res\r\n  },\r\n  init = () => []\r\n) {\r\n  // 将元素按照分组条件进行分组得到一个 条件 -> 数组 的对象\r\n  return arr.reduce((res, item, ...args) => {\r\n    const k = kFn(item, ...args)\r\n    // 如果已经有这个键了就直接追加, 否则先将之初始化再追加元素\r\n    if (!res.has(k)) {\r\n      res.set(k, init())\r\n    }\r\n    res.set(k, vFn(res.get(k), item, ...args))\r\n    return res\r\n  }, new Map())\r\n}\r\n","/**\r\n * 创建一个等差数列数组\r\n * @param {Number} start 开始（包含）\r\n * @param {Number} end 结束（不包含）\r\n * @param {Number} [sep] 步长，默认为 1\r\n * @returns {Array.<Number>} 等差数列数组\r\n */\r\nexport function range (start, end, sep = 1) {\r\n  const arr = []\r\n  for (let i = start; i < end; i += sep) {\r\n    arr.push(i)\r\n  }\r\n  return arr\r\n}\r\n","/**\r\n * 返回第一个参数的函数\r\n * 注: 一般可以当作返回参数自身的函数，如果你只关注第一个参数的话\r\n * @param {Object} obj 任何对象\r\n * @returns {Object} 传入的第一个参数\r\n */\r\nexport function returnItself (obj) {\r\n  return obj\r\n}\r\n","/**\r\n * 将数组映射为 Map\r\n * @param {Array.<Object>} array 数组\r\n * @param {function} kFn 产生 Map 元素唯一标识的函数\r\n * @param {Function} [vFn] 产生 Map 值的函数，默认为返回数组的元素\r\n * @returns {Map.<Object,Object>} 映射产生的 map 集合\r\n */\r\nexport function arrayToMap (array, kFn, vFn = v => v) {\r\n  return array.reduce(\r\n    (res, item, ...args) => res.set(kFn(item, ...args), vFn(item, ...args)),\r\n    new Map()\r\n  )\r\n}\r\n","/**\r\n * 填充字符串到指定长度\r\n * @param {String} item 填充的字符串\r\n * @param {Number} len 填充的长度\r\n * @returns {String} 填充完成的字符串\r\n * @deprecated 已废弃，请使用 ES6 {@link String.prototype.repeat} 函数，具体请参考 MDN {@url(https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/repeat)}\r\n */\r\nexport function fill (item, len) {\r\n  if (len <= 0) {\r\n    return ''\r\n  }\r\n  return item + fill(item, len - 1)\r\n}\r\n","let lastFocusEl\r\n\r\ndocument.addEventListener(\r\n  'focus',\r\n  event => {\r\n    lastFocusEl = event.target\r\n  },\r\n  true\r\n)\r\ndocument.addEventListener(\r\n  'blur',\r\n  () => {\r\n    lastFocusEl = null\r\n  },\r\n  true\r\n)\r\n/**\r\n * 获取到最后一个获得焦点的元素\r\n * @returns {Element} 最后一个获取到焦点的元素\r\n */\r\nexport function lastFocus () {\r\n  return lastFocusEl\r\n}\r\n","import { fill } from '../string/fill'\r\nimport { arrayToMap } from './../array/arrayToMap'\r\n\r\n/**\r\n * 日期格式化类\r\n * @class DateFormat\r\n */\r\nclass DateFormat {\r\n  /**\r\n   * 构造函数\r\n   * @param {String} name 日期格式的名称\r\n   * @param {String} format 日期的格式值\r\n   * @param {String} value 格式化得到的值\r\n   * @param {Number} index 需要替换位置的索引\r\n   */\r\n  constructor (name, format, value, index) {\r\n    /**\r\n     * @field 日期格式的名称\r\n     */\r\n    this.name = name\r\n    /**\r\n     * @field 日期的格式值\r\n     */\r\n    this.format = format\r\n    /**\r\n     * @field 格式化得到的值\r\n     */\r\n    this.value = value\r\n    /**\r\n     * @field 需要替换位置的索引\r\n     */\r\n    this.index = index\r\n  }\r\n}\r\n\r\n/**\r\n * 日期时间的正则表达式\r\n */\r\nconst dateFormats = {\r\n  year: 'y{4}|y{2}',\r\n  month: 'M{1,2}',\r\n  day: 'd{1,2}',\r\n  hour: 'h{1,2}',\r\n  minute: 'm{1,2}',\r\n  second: 's{1,2}',\r\n  millieSecond: 'S{1,3}',\r\n}\r\n\r\n/**\r\n * 解析字符串为 Date 对象\r\n * @param {String} str 日期字符串\r\n * @param {String} fmt 日期字符串的格式，目前仅支持使用 y(年),M(月),d(日),h(时),m(分),s(秒),S(毫秒)\r\n * @returns {Date} 解析得到的 Date 对象\r\n */\r\nexport function dateParse (str, fmt) {\r\n  const now = new Date()\r\n  // 如果没有格式化某项的话则设置为默认时间\r\n  const defaultDateValues = {\r\n    year: now.getFullYear().toString(),\r\n    month: '01',\r\n    day: '01',\r\n    hour: '00',\r\n    minute: '00',\r\n    second: '00',\r\n    millieSecond: '000',\r\n  }\r\n  // 保存对传入的日期字符串进行格式化的全部信息数组列表\r\n  const dateUnits = []\r\n  for (const fmtName in dateFormats) {\r\n    const regExp = new RegExp(dateFormats[fmtName])\r\n    if (regExp.test(fmt)) {\r\n      const matchStr = regExp.exec(fmt)[0]\r\n      const regexStr = fill('`', matchStr.length)\r\n      const index = fmt.indexOf(matchStr)\r\n      fmt = fmt.replace(matchStr, regexStr)\r\n      dateUnits.push(\r\n        new DateFormat(fmtName, fill('\\\\d', matchStr.length), null, index)\r\n      )\r\n    } else {\r\n      dateUnits.push(\r\n        new DateFormat(fmtName, null, defaultDateValues[fmtName], -1)\r\n      )\r\n    }\r\n  }\r\n  // 进行验证是否真的是符合传入格式的字符串\r\n  fmt = fmt.replace(new RegExp('`', 'g'), '\\\\d')\r\n  if (!new RegExp(`^${fmt}$`).test(str)) {\r\n    return null\r\n  }\r\n  // 进行一次排序, 依次对字符串进行截取\r\n  dateUnits\r\n    // 过滤掉没有得到格式化的对象\r\n    .filter(({ format }) => format)\r\n    // 按照字符串中日期片段的索引进行排序\r\n    .sort(function (a, b) {\r\n      return a.index - b.index\r\n    })\r\n    // 获取到匹配的日期片段的值\r\n    .map(format => {\r\n      const matchDateUnit = new RegExp(format.format).exec(str)\r\n      if (matchDateUnit !== null && matchDateUnit.length > 0) {\r\n        str = str.replace(matchDateUnit[0], '')\r\n        format.value = matchDateUnit[0]\r\n      }\r\n      return format\r\n    })\r\n    // 覆写到 dateStr 上面\r\n    .forEach(({ format }, i) => {\r\n      const matchDateUnit = new RegExp(format).exec(str)\r\n      if (matchDateUnit !== null && matchDateUnit.length > 0) {\r\n        str = str.replace(matchDateUnit[0], '')\r\n        dateUnits[i].value = matchDateUnit[0]\r\n      }\r\n    })\r\n  // 将截取完成的信息封装成对象并格式化标准的日期字符串\r\n  const map = arrayToMap(dateUnits, item => item.name, item => item.value)\r\n  if (map.get('year').length === 2) {\r\n    map.set(\r\n      'year',\r\n      defaultDateValues.year.substr(0, 2).concat(map.get('year'))\r\n    )\r\n  }\r\n  // 注意：此处使用的是本地时间而非 UTC 时间\r\n  const date = `${map.get('year')}-${map.get('month')}-${map.get(\r\n    'day'\r\n  )}T${map.get('hour')}:${map.get('minute')}:${map.get('second')}.${map.get(\r\n    'millieSecond'\r\n  )}`\r\n  return new Date(date)\r\n}\r\n","/**\r\n * 获取输入框中光标所在位置\r\n * @param  {HTMLFormElement} el 需要获取的输入框元素\r\n * @returns {Number} 光标所在位置的下标\r\n */\r\nexport function getCusorPostion (el) {\r\n  return el.selectionStart\r\n}\r\n","/**\r\n * 设置输入框中选中的文本/光标所在位置\r\n * @param {HTMLFormElement} el 需要设置的输入框元素\r\n * @param {Number} start 光标所在位置的下标\r\n * @param {Number} [end=start] 结束位置，默认为输入框结束\r\n */\r\nexport function setCusorPostion (el, start, end = start) {\r\n  el.focus()\r\n  el.setSelectionRange(start, end)\r\n}\r\n","/**\r\n * 判断一个对象是否是无效的\r\n * 无效的值包含 null/undefined\r\n * @param {Object} object 任何一个对象\r\n * @returns {Boolean} 是否无效的\r\n */\r\nexport function isNullOrUndefined (object) {\r\n  return object === undefined || object === null\r\n}\r\n","import { isNullOrUndefined } from '../obj/isNullOrUndefined'\r\n\r\n/**\r\n * 字符串安全的转换为小写\r\n * @param {String} str 字符串\r\n * @returns {String} 转换后得到的全小写字符串\r\n */\r\nexport function toLowerCase (str) {\r\n  if (isNullOrUndefined(str) || typeof str !== 'string') {\r\n    return str\r\n  }\r\n  return str.toLowerCase()\r\n}\r\n","/**\r\n * 安全执行某个函数\r\n * @param {Function} fn 需要执行的函数\r\n * @param {Object} [defaultVal=null] 发生异常后的默认返回值，默认为 null\r\n * @param {...Object} [args] 可选的函数参数\r\n * @returns {Object|undefined} 函数执行的结果，或者其默认值\r\n */\r\nexport function safeExec (fn, defaultVal = null, ...args) {\r\n  try {\r\n    return fn(...args)\r\n  } catch (err) {\r\n    return defaultVal\r\n  }\r\n}\r\n","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","/**\r\n * 状态机\r\n * 用于避免使用 if-else 的一种方式\r\n */\r\nexport class StateMachine {\r\n  /**\r\n   * 获取到一个状态工厂\r\n   */\r\n  static getFactory () {\r\n    const classMap = new Map()\r\n    /**\r\n     * 状态注册器\r\n     * 更好的有限状态机，分离子类与构建的关系，无论子类如何增删该都不影响基类及工厂类\r\n     */\r\n    return new class Builder {\r\n      /**\r\n       * 注册一个 class，创建子类时调用，用于记录每一个 [状态 => 子类] 对应\r\n       * 注: 此处不再默认使用单例模式，如果需要，请自行对 class 进行包装\r\n       * @param {Number|String} state 作为键的状态\r\n       * @param {Object} clazz 对应的子类型\r\n       * @returns {Object} 返回 clazz 本身\r\n       */\r\n      register (state, clazz) {\r\n        classMap.set(state, clazz)\r\n        return clazz\r\n      }\r\n\r\n      /**\r\n       * 获取一个标签子类对象\r\n       * @param {Number|String} state 状态索引\r\n       * @param {...Object} [args] 构造函数的参数\r\n       * @returns {Object} 子类对象\r\n       */\r\n      getInstance (state, ...args) {\r\n        const Class = classMap.get(state)\r\n        if (!Class) {\r\n          return null\r\n        }\r\n        // 构造函数的参数\r\n        return new Class(...args)\r\n      }\r\n      /**\r\n       * 允许使用 for-of 遍历整个状态机\r\n       */\r\n      [Symbol.iterator] () {\r\n        const map = classMap.entries()\r\n        return {\r\n          next () {\r\n            return map.next()\r\n          },\r\n        }\r\n      }\r\n    }()\r\n  }\r\n}\r\n","/**\r\n * 测试函数的执行时间\r\n * 注：如果函数返回 Promise，则该函数也会返回 Promise，否则直接返回执行时间\r\n * @param {Function} fn 需要测试的函数\r\n * @returns {Number|Promise} 执行的毫秒数\r\n */\r\nexport function timing (fn) {\r\n  const begin = performance.now()\r\n  const result = fn()\r\n  if (!(result instanceof Promise)) {\r\n    return performance.now() - begin\r\n  }\r\n  return result.then(() => performance.now() - begin)\r\n}\r\n","import { isNullOrUndefined } from '../obj/isNullOrUndefined'\r\n/**\r\n * 判断是否为小数的正则表达式\r\n */\r\nconst FloatRule = /^(-?\\d+)(.\\d+)?$/\r\n/**\r\n * 判断是否为整数的正则表达式\r\n */\r\nconst IntegerRule = /^-?\\d+$/\r\n/**\r\n * 判断是否为邮箱的正则表达式\r\n */\r\nconst EmailRule = /^\\w+((-\\w+)|(\\.\\w+))*@[A-Za-z0-9]+((\\.|-)[A-Za-z0-9]+)*\\.[A-Za-z]+$/\r\n/**\r\n * 判断是否为 ipv4 地址的正则表达式\r\n */\r\nconst Ipv4Rule = /^((25[0-5]|2[0-4]\\d|1?\\d?\\d)\\.){3}(25[0-5]|2[0-4]\\d|1?\\d?\\d)$/\r\n/**\r\n * 判断是否为固定电话的正则表达式\r\n */\r\nconst TelephoneRule = /^0[1-9][0-9]{1,2}-[2-8][0-9]{6,7}$/\r\n/**\r\n * 判断是否为移动电话的正则表达式\r\n */\r\nconst MobileRule = /^(((13[0-9]{1})|15[0-9]{1}|18[0-9]{1}|)+\\d{8})$/\r\n/**\r\n * 判断是否为域名的正则表达式\r\n */\r\nconst DomainRule = /^(?=^.{3,255}$)[a-zA-Z0-9][-a-zA-Z0-9]{0,62}(\\.[a-zA-Z0-9][-a-zA-Z0-9]{0,62})+$/\r\n/**\r\n * 判断是否为邮政编码的正则表达式\r\n */\r\nconst PostcodeRule = /^\\d{6}$/\r\n/**\r\n * 字符串校验\r\n */\r\nexport class StringValidator {\r\n  /**\r\n   * 判断一个字符串是否为空字符串\r\n   * @param {String} str 字符串\r\n   * @returns {Boolean} 是否为空字符串\r\n   */\r\n  isEmpty (str) {\r\n    return isNullOrUndefined(str) || str === ''\r\n  }\r\n  /**\r\n   * 判断一个字符串是否为空白的字符串\r\n   * @param {String} str 字符串\r\n   * @returns {Boolean} 是否为空字符串\r\n   */\r\n  isBlank (str) {\r\n    return stringValidator.isEmpty(str) || str.trim() === ''\r\n  }\r\n\r\n  /**\r\n   * 判断字符串是否位小数\r\n   * @param {String} str 需要进行判断的字符串\r\n   * @returns {Boolean} 是否为小数\r\n   */\r\n  isFloat (str) {\r\n    return FloatRule.test(str)\r\n  }\r\n\r\n  /**\r\n   * 判断字符串是否位整数\r\n   * @param {String} str 需要进行判断的字符串\r\n   * @returns {Boolean} 是否为小数\r\n   */\r\n  isInteger (str) {\r\n    return IntegerRule.test(str)\r\n  }\r\n  /**\r\n   * 判断邮箱的格式是否正确\r\n   * @param {String} str 邮箱字符串\r\n   * @returns {Boolean} 是否是邮箱\r\n   */\r\n  isEmail (str) {\r\n    return EmailRule.test(str)\r\n  }\r\n  /**\r\n   * 判断 ipv4 地址的格式是否正确\r\n   * @param {String} str ipv4 字符串\r\n   * @returns {Boolean} 是否是 ipv4 地址\r\n   */\r\n  isIpv4 (str) {\r\n    return Ipv4Rule.test(str)\r\n  }\r\n  /**\r\n   * 判断是否为固定电话\r\n   * @param {String} str 字符串\r\n   * @returns {Boolean} 是否为固定电话\r\n   */\r\n  isTelephone (str) {\r\n    return TelephoneRule.test(str)\r\n  }\r\n  /**\r\n   * 判断是否为移动电话\r\n   * @param {String} str 字符串\r\n   * @returns {Boolean} 是否为移动电话\r\n   */\r\n  isMoblie (str) {\r\n    return MobileRule.test(str)\r\n  }\r\n  /**\r\n   * 判断是否为域名\r\n   * @param {String} str 字符串\r\n   * @returns {Boolean} 是否为域名\r\n   */\r\n  isDomain (str) {\r\n    return DomainRule.test(str)\r\n  }\r\n  /**\r\n   * 判断是否为邮政编码\r\n   * @param {String} str 字符串\r\n   * @returns {Boolean} 是否为邮政编码\r\n   */\r\n  isPostcode (str) {\r\n    return PostcodeRule.test(str)\r\n  }\r\n}\r\n\r\n/**\r\n * 导出一个字符串校验的对象\r\n */\r\nexport const stringValidator = new StringValidator()\r\n","import { isNullOrUndefined } from '../obj/isNullOrUndefined'\r\n\r\n/**\r\n * 字符串安全的转换为大写\r\n * @param {String} str 字符串\r\n * @returns {String} 转换后得到的全大写字符串\r\n */\r\nexport function toUpperCase (str) {\r\n  if (isNullOrUndefined(str) || typeof str !== 'string') {\r\n    return str\r\n  }\r\n  return str.toUpperCase()\r\n}\r\n","/**\r\n * 将空白字符串转换为 null\r\n *\r\n * @param {String} str 将空字符串转换为 {@code null}\r\n * @returns {String} 可能为 {@code null}\r\n */\r\nexport function blankToNull (str) {\r\n  return !str || str.trim().length === 0 ? null : str\r\n}\r\n","import { isNullOrUndefined } from './isNullOrUndefined'\r\n\r\n/**\r\n * 获取对象中所有的属性，包括 ES6 新增的 Symbol 类型的属性\r\n * @param {Object} object 任何对象\r\n * @returns {Array.<PropertyKey>} 属性数组\r\n * @deprecated 已废弃，请使用 ES6 {@see Reflect.ownKeys} 代替，具体参考 {@link https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect/ownKeys}\r\n */\r\nexport function getObjectKeys (object) {\r\n  if (isNullOrUndefined(object)) {\r\n    return []\r\n  }\r\n  return Reflect.ownKeys(object)\r\n}\r\n","import { getObjectKeys } from './getObjectKeys'\r\n\r\n/**\r\n * 排除对象中的指定字段\r\n * 注: 此处将获得一个浅拷贝对象\r\n * @param {Object} object 排除对象\r\n * @param {...String|Symbol|Number} fields 要排除的多个字段\r\n * @returns {Object} 排除完指定字段得到的新的对象\r\n */\r\nexport function excludeFields (object, ...fields) {\r\n  const set = new Set(fields)\r\n  return getObjectKeys(object).reduce((res, k) => {\r\n    if (!set.has(k)) {\r\n      // @ts-ignore\r\n      res[k] = object[k]\r\n    }\r\n    return res\r\n  }, {})\r\n}\r\n","import { dateFormat } from './dateFormat'\r\n\r\n/**\r\n * 日期固定时间点\r\n * @class DateConstants\r\n */\r\nexport class DateConstants {\r\n  /**\r\n   * 获取指定日期一天的开始时间\r\n   * @param {Date} [date=new Date()] 指定的时间，默认为当前日期\r\n   * @returns {Date} 一天的开始时间\r\n   */\r\n  dayStart (date = new Date()) {\r\n    return new Date(`${dateFormat(date, 'yyyy-MM-dd')}T00:00:00.000`)\r\n  }\r\n  /**\r\n   * 获取指定日期一天的结束时间\r\n   * @param {Date} [date=new Date()] 指定的时间，默认为当前日期\r\n   * @returns {Date} 一天的结束时间\r\n   */\r\n  dayEnd (date = new Date()) {\r\n    return new Date(`${dateFormat(date, 'yyyy-MM-dd')}T23:59:59.999`)\r\n  }\r\n  /**\r\n   * 获取指定日期所在年份的新年开始时间\r\n   * @param {Date} [date=new Date()] 指定的时间，默认为当前日期\r\n   * @returns {Date} 新年开始时间\r\n   */\r\n  yearStart (date = new Date()) {\r\n    return new Date(`${date.getFullYear()}-01-01T00:00:00.000`)\r\n  }\r\n  /**\r\n   * 获取指定日期所在年份的旧年结束时间\r\n   * @param {Date} [date=new Date()] 指定的时间，默认为当前日期\r\n   * @returns {Date} 旧年结束时间\r\n   */\r\n  yearEnd (date = new Date()) {\r\n    return new Date(`${date.getFullYear()}-12-31T23:59:59.999`)\r\n  }\r\n}\r\n\r\n/**\r\n * 导出一个日期固定时间点的对象\r\n * @type {DateConstants}\r\n */\r\nexport const dateConstants = new DateConstants()\r\n","/**\r\n * 判断数字是否在指定区间之中\r\n * @param {Number} num 指定数字\r\n * @param {Number} min 最小值\r\n * @param {Number} max 最大值（不包含）\r\n */\r\nexport function isRange (num, min, max) {\r\n  return num >= min && num < max\r\n}\r\n","import { dateFormat } from './dateFormat'\r\n\r\n/**\r\n * 日期固定时间点\r\n * @class DateConstants\r\n */\r\nexport class DateConstants {\r\n  /**\r\n   * 获取指定日期一天的开始时间\r\n   * @param {Date} [date=new Date()] 指定的时间，默认为当前日期\r\n   * @returns {Date} 一天的开始时间\r\n   */\r\n  dayStart (date = new Date()) {\r\n    return new Date(`${dateFormat(date, 'yyyy-MM-dd')}T00:00:00.000`)\r\n  }\r\n  /**\r\n   * 获取指定日期一天的结束时间\r\n   * @param {Date} [date=new Date()] 指定的时间，默认为当前日期\r\n   * @returns {Date} 一天的结束时间\r\n   */\r\n  dayEnd (date = new Date()) {\r\n    return new Date(`${dateFormat(date, 'yyyy-MM-dd')}T23:59:59.999`)\r\n  }\r\n  /**\r\n   * 获取指定日期所在年份的新年开始时间\r\n   * @param {Date} [date=new Date()] 指定的时间，默认为当前日期\r\n   * @returns {Date} 新年开始时间\r\n   */\r\n  yearStart (date = new Date()) {\r\n    return new Date(`${date.getFullYear()}-01-01T00:00:00.000`)\r\n  }\r\n  /**\r\n   * 获取指定日期所在年份的旧年结束时间\r\n   * @param {Date} [date=new Date()] 指定的时间，默认为当前日期\r\n   * @returns {Date} 旧年结束时间\r\n   */\r\n  yearEnd (date = new Date()) {\r\n    return new Date(`${date.getFullYear()}-12-31T23:59:59.999`)\r\n  }\r\n}\r\n\r\n/**\r\n * 导出一个日期固定时间点的对象\r\n * @type {DateConstants}\r\n */\r\nexport const dateConstants = new DateConstants()\r\n","import { isRange } from '../number/isRange'\r\nimport { dateConstants } from './DateConstants'\r\n\r\n/**\r\n * 一天标准的毫秒数\r\n */\r\nconst DAY_UNIT_TIME = 1000 * 60 * 60 * 24\r\n/**\r\n * 日期增强\r\n */\r\nexport class DateEnhance {\r\n  /**\r\n   * 构造函数\r\n   * @param {Date} date 要增强的日期\r\n   */\r\n  constructor (date) {\r\n    /**\r\n     * @field 要增强的日期\r\n     */\r\n    this.date = date\r\n  }\r\n  /**\r\n   * 获取到年份\r\n   * @returns {Number}\r\n   */\r\n  year () {\r\n    return this.date.getFullYear()\r\n  }\r\n  /**\r\n   * 获取月份\r\n   * @returns {Number}\r\n   * @deprecated 已废弃，请使用 {@link this#monthOfYear} 函数\r\n   */\r\n  month () {\r\n    return this.date.getMonth()\r\n  }\r\n  /**\r\n   * 获取今年的第几个月份\r\n   * 和 {@link this#month} 不同的是不再从 0 计算月份\r\n   */\r\n  monthOfYear () {\r\n    return this.date.getMonth() + 1\r\n  }\r\n  /**\r\n   * 获取一年内的第多少天\r\n   * 注: 这个天数指定的在第几天而非过去了多少天，例如 2018-01-10 的结果会是 10\r\n   * @returns {Number}\r\n   */\r\n  dayOfYear () {\r\n    return Math.ceil(\r\n      (this.date.getTime() - dateConstants.yearStart(this.date).getTime()) /\r\n        DAY_UNIT_TIME\r\n    )\r\n  }\r\n  /**\r\n   * 获取一个月内的第多少天\r\n   * 注: 这个天数指的是在第几天而非过去了多少天，例如 2018-01-10 的结果会是 10\r\n   * @returns {Number}\r\n   */\r\n  dayOfMonth () {\r\n    return this.date.getDate()\r\n  }\r\n  /**\r\n   * 获取一个星期内的第多少天\r\n   * @returns {Number}\r\n   */\r\n  dayOfWeek () {\r\n    return this.date.getDay()\r\n  }\r\n  /**\r\n   * 获取一年内的第多少星期\r\n   * 注: 这个星期指定的在第几天而非过去了多少天，例如 2018-01-10 的结果会是 10\r\n   * @returns {Number}\r\n   */\r\n  weekOfYear () {\r\n    return Math.ceil(this.dayOfYear() / 7)\r\n  }\r\n  /**\r\n   * 获取一个月内的第多少星期\r\n   * @returns {Number}\r\n   */\r\n  weekOfMonth () {\r\n    return Math.ceil(this.dayOfMonth() / 7)\r\n  }\r\n  /**\r\n   * 获取季度\r\n   * @returns {Number}\r\n   */\r\n  quarter () {\r\n    const month = this.month()\r\n    if (isRange(month, 0, 3)) {\r\n      return 1\r\n    } else if (isRange(month, 3, 6)) {\r\n      return 2\r\n    } else if (isRange(month, 6, 9)) {\r\n      return 3\r\n    } else {\r\n      return 4\r\n    }\r\n  }\r\n  /**\r\n   * 获取小时\r\n   * @returns {Number}\r\n   */\r\n  hour () {\r\n    return this.date.getHours()\r\n  }\r\n  /**\r\n   * 获取分钟\r\n   * @returns {Number}\r\n   */\r\n  minute () {\r\n    return this.date.getMinutes()\r\n  }\r\n  /**\r\n   * 获取秒\r\n   * @returns {Number}\r\n   */\r\n  second () {\r\n    return this.date.getSeconds()\r\n  }\r\n  /**\r\n   * 获取毫秒\r\n   * @returns {Number}\r\n   */\r\n  milliSecond () {\r\n    return this.date.getMilliseconds()\r\n  }\r\n}\r\n\r\n/**\r\n * 获取一个增强的日期\r\n * @param {Date} date 要增强的日期\r\n * @returns {DateEnhance} 增强日期\r\n */\r\nexport function dateEnhance (date) {\r\n  return new DateEnhance(date)\r\n}\r\n","/**\r\n * 时间日期间隔\r\n * @class DateBetween\r\n */\r\nexport class DateBetween {\r\n  /**\r\n   * 构造函数\r\n   * @param {Date} start 开始时间\r\n   * @param {Date} end 结束时间\r\n   */\r\n  constructor (start, end) {\r\n    /**\r\n     * @field start 开始时间\r\n     */\r\n    this.start = start\r\n    /**\r\n     * @field end 结束时间\r\n     */\r\n    this.end = end\r\n  }\r\n  /**\r\n   * 获取毫秒差值\r\n   * @returns {Number} 毫秒差值\r\n   */\r\n  milliSecond () {\r\n    return this.end.getTime() - this.start.getTime()\r\n  }\r\n  /**\r\n   * 获取秒差值\r\n   * @returns {Number} 秒差值\r\n   */\r\n  second () {\r\n    return Math.floor(this.milliSecond() / 1000)\r\n  }\r\n  /**\r\n   * 获取分钟差值\r\n   * @returns {Number} 分钟差值\r\n   */\r\n  minute () {\r\n    return Math.floor(this.second() / 60)\r\n  }\r\n  /**\r\n   * 获取小时差值\r\n   * @returns {Number} 小时差值\r\n   */\r\n  hour () {\r\n    return Math.floor(this.minute() / 60)\r\n  }\r\n  /**\r\n   * 获取天数差值\r\n   * @returns {Number} 天数差值\r\n   */\r\n  day () {\r\n    return Math.floor(this.hour() / 24)\r\n  }\r\n  /**\r\n   * 获取月份差值\r\n   * 注: 此处获取的差值是按月计算的，即 2018-12-31 => 2019-01-01 也被认为相差一个月\r\n   * @returns {Number} 月份差值\r\n   */\r\n  month () {\r\n    const year = this.year()\r\n    const month = this.end.getMonth() - this.start.getMonth()\r\n    return year * 12 + month\r\n  }\r\n  /**\r\n   * 获取年份差值\r\n   * 注: 此处获取的差值是按年计算的，即 2018-12-31 => 2019-01-01 也被认为相差一年\r\n   * @returns {Number} 年份差值\r\n   */\r\n  year () {\r\n    return this.end.getFullYear() - this.start.getFullYear()\r\n  }\r\n}\r\n\r\n/**\r\n * 获取两个时间的差值\r\n * @param {Date} start 开始时间\r\n * @param {Date} end 结束时间\r\n * @returns {DateBetween} 差值对象\r\n */\r\nexport function dateBetween (start, end) {\r\n  return new DateBetween(start, end)\r\n}\r\n","/**\r\n * 将指定函数包装为只调用一次\r\n * @param {Function} fn 需要包装的函数\r\n * @returns {Function} 包装后的函数\r\n */\r\nexport function once (fn) {\r\n  let flag = true\r\n  let cache\r\n  return new Proxy(fn, {\r\n    apply (target, thisArg, args) {\r\n      if (flag === false) {\r\n        return cache\r\n      }\r\n      flag = false\r\n      const result = Reflect.apply(target, thisArg, args)\r\n      // 如果是异步函数则返回异步的结果\r\n      if (result instanceof Promise) {\r\n        return result.then(res => {\r\n          cache = res\r\n          return res\r\n        })\r\n      }\r\n      cache = result\r\n      return cache\r\n    },\r\n  })\r\n}\r\n","/**\r\n * 包装一个函数为指定参数只执行一次的函数\r\n * @param {Function} fn 需要包装的函数\r\n * @param {Function} paramConverter 参数转换的函数，参数为需要包装函数的参数\r\n * @returns {Function} 需要被包装的函数\r\n */\r\nexport function onceOfSameParam (\r\n  fn,\r\n  paramConverter = (...args) => JSON.stringify(args)\r\n) {\r\n  const cacheMap = new Map()\r\n  return new Proxy(fn, {\r\n    apply (target, thisArg, args) {\r\n      const key = paramConverter(...args)\r\n      const old = cacheMap.get(key)\r\n      if (old !== undefined) {\r\n        return old\r\n      }\r\n      const res = Reflect.apply(target, thisArg, args)\r\n      if (res instanceof Promise) {\r\n        return res.then(res => {\r\n          cacheMap.set(key, res)\r\n          return res\r\n        })\r\n      }\r\n      cacheMap.set(key, res)\r\n      return res\r\n    },\r\n  })\r\n}\r\n","import { returnItself } from '../function/returnItself'\r\n\r\n/**\r\n * 数组之间的差异结果类\r\n * @class ArrayDiff\r\n */\r\nexport class ArrayDiff {\r\n  /**\r\n   * 构造函数\r\n   * @param {Array} left 第一个数组独有的元素列表\r\n   * @param {Array} right 第二个数组独有的元素列表\r\n   * @param {Array} common 两个数组共有的元素列表。注意: 这里的元素实质上是从第一个集合获取的\r\n   */\r\n  constructor (left, right, common) {\r\n    /**\r\n     * @field 第一个数组独有的元素列表\r\n     */\r\n    this.left = left\r\n    /**\r\n     * @field 第二个数组独有的元素列表\r\n     */\r\n    this.right = right\r\n    /**\r\n     * @field 两个数组共有的元素列表\r\n     */\r\n    this.common = common\r\n  }\r\n}\r\n\r\n/**\r\n * 比较两个数组的差异\r\n * @param {Array} thanArr 第一个数组\r\n * @param {Array} thatArr 第二个数组\r\n * @param {Function} [kFn=returnItself] 每个元素的唯一标识产生函数\r\n * @returns {ArrayDiff} 比较的差异结果\r\n */\r\nexport function arrayDiffBy (thanArr, thatArr, kFn = returnItself) {\r\n  // @ts-ignore\r\n  const kThanSet = new Set(thanArr.map(kFn))\r\n  // @ts-ignore\r\n  const kThatSet = new Set(thatArr.map(kFn))\r\n  const left = thanArr.filter((v, ...args) => !kThatSet.has(kFn(v, ...args)))\r\n  const right = thatArr.filter((v, ...args) => !kThanSet.has(kFn(v, ...args)))\r\n  // @ts-ignore\r\n  const kLeftSet = new Set(left.map(kFn))\r\n  const common = thanArr.filter((v, ...args) => !kLeftSet.has(kFn(v, ...args)))\r\n  return new ArrayDiff(left, right, common)\r\n}\r\n","import { once } from '../function/once'\r\n/**\r\n * 使用 Generator 实现一个从 0 开始的自增序列\r\n */\r\nfunction * autoIncrementGenerator () {\r\n  for (let i = 0; ; i++) {\r\n    /**\r\n     * @returns {Number} 每次获取都返回循环中的当前迭代变量，然后暂停于此处\r\n     */\r\n    yield i\r\n  }\r\n}\r\n/**\r\n * 包装 {@link autoIncrementGenerator} 为只能调用一次的函数\r\n */\r\nconst generator = once(autoIncrementGenerator)\r\n\r\n/**\r\n * 获取自增长序列的最新值\r\n * @returns {Number} 最新值\r\n */\r\nexport function autoIncrement () {\r\n  return generator().next().value\r\n}\r\n","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","import { onceOfSameParam } from '../function/onceOfSameParam'\r\nimport { stringValidator } from './stringValidator'\r\nimport { toLowerCase } from './toLowerCase'\r\nimport { toUpperCase } from './toUpperCase'\r\n\r\n/**\r\n * 转换接口\r\n * @interface\r\n */\r\nexport class IConverter {\r\n  /**\r\n   * 将字符串解析为字符串列表\r\n   *\r\n   * @param {String} str 字符串\r\n   * @return {Array.<String>} 字符串列表\r\n   * @abstract\r\n   */\r\n  from (str) {\r\n    throw new Error('子类必须重写 from 函数')\r\n  }\r\n\r\n  /**\r\n   * 将字符串列表构造为字符串\r\n   *\r\n   * @param {Array.<String>} list 字符串列表\r\n   * @return {String} 字符串\r\n   * @abstract\r\n   */\r\n  to (list) {\r\n    throw new Error('子类必须重写 to 函数')\r\n  }\r\n}\r\n\r\n/**\r\n * 驼峰风格解析\r\n */\r\nexport class CamelOrPascalFrom extends IConverter {\r\n  /**\r\n   * 将字符串解析为字符串列表\r\n   *\r\n   * @param {String} str 字符串\r\n   * @return {Array.<String>} 字符串列表\r\n   * @override\r\n   */\r\n  from (str) {\r\n    const result = []\r\n    let len = str.length\r\n    let old = 0\r\n    for (let i = 0; i < len; i++) {\r\n      const c = str.charAt(i)\r\n      if (c >= 'A' && c <= 'Z') {\r\n        if (i !== 0) {\r\n          result.push(str.substring(old, i))\r\n        }\r\n        old = i\r\n      }\r\n    }\r\n    if (old !== str.length) {\r\n      result.push(str.substring(old, str.length))\r\n    }\r\n    return result\r\n  }\r\n}\r\n\r\n/**\r\n * 小写开头的驼峰转换器\r\n *\r\n */\r\nexport class CamelConverter extends CamelOrPascalFrom {\r\n  /**\r\n   * 将字符串列表构造为字符串\r\n   *\r\n   * @param {Array.<String>} list 字符串列表\r\n   * @return {String} 字符串\r\n   * @override\r\n   */\r\n  to (list) {\r\n    return list.reduce((res, s, i) => {\r\n      const str = toLowerCase(s)\r\n      return (res +=\r\n        (i === 0 ? toLowerCase : toUpperCase)(str.substring(0, 1)) +\r\n        str.substring(1))\r\n    }, '')\r\n  }\r\n}\r\n\r\n/**\r\n * 大写开头的驼峰转换器\r\n */\r\nexport class PascalConverter extends CamelOrPascalFrom {\r\n  /**\r\n   * 将字符串列表构造为字符串\r\n   *\r\n   * @param {Array.<String>} list 字符串列表\r\n   * @return {String} 字符串\r\n   * @override\r\n   */\r\n  to (list) {\r\n    return list.reduce((res, s) => {\r\n      const str = toLowerCase(s)\r\n      return (res += toUpperCase(str.substring(0, 1)) + str.substring(1))\r\n    }, '')\r\n  }\r\n}\r\n/**\r\n * 下划线风格解析\r\n */\r\nexport class SnakeOrScreamingSnakeFrom extends IConverter {\r\n  /**\r\n   * 将字符串解析为字符串列表\r\n   *\r\n   * @param {String} str 字符串\r\n   * @return {Array.<String>} 字符串列表\r\n   * @override\r\n   */\r\n  from (str) {\r\n    return str.split('_')\r\n  }\r\n}\r\n/**\r\n * 小写下划线的转换器\r\n */\r\nexport class SnakeConverter extends SnakeOrScreamingSnakeFrom {\r\n  /**\r\n   * 将字符串列表构造为字符串\r\n   *\r\n   * @param {Array.<String>} list 字符串列表\r\n   * @return {String} 字符串\r\n   * @override\r\n   */\r\n  to (list) {\r\n    return list.map(toLowerCase).join('_')\r\n  }\r\n}\r\n/**\r\n * 大写下划线的转换器\r\n */\r\nexport class ScreamingSnakeConverter extends SnakeOrScreamingSnakeFrom {\r\n  /**\r\n   * 将字符串列表构造为字符串\r\n   *\r\n   * @param {Array.<String>} list 字符串列表\r\n   * @return {String} 字符串\r\n   * @override\r\n   */\r\n  to (list) {\r\n    return list.map(toUpperCase).join('_')\r\n  }\r\n}\r\n/**\r\n * @enum {Symbol} 字符串风格常量对象\r\n */\r\nexport const stringStyleType = {\r\n  /**\r\n   * 小写驼峰\r\n   */\r\n  Camel: Symbol(1),\r\n  /**\r\n   * 大写驼峰\r\n   */\r\n  Pascal: Symbol(2),\r\n  /**\r\n   * 小写下划线\r\n   */\r\n  Snake: Symbol(3),\r\n  /**\r\n   * 大写下划线\r\n   */\r\n  ScreamingSnake: Symbol(4),\r\n}\r\n\r\n/**\r\n * 转换器工厂\r\n */\r\nexport class ConverterFactory {\r\n  /**\r\n   * 获取一个转换器实例\r\n   *\r\n   * @param {Symbol} styleType 转换风格，使用了 {@link stringStyleType} 定义的常量对象\r\n   * @return {IConverter} 转换器对象\r\n   * @throws 如果获取未定义过的转换器，则会抛出异常\r\n   */\r\n  static getInstance (styleType) {\r\n    switch (styleType) {\r\n      case stringStyleType.Camel:\r\n        return new CamelConverter()\r\n      case stringStyleType.Pascal:\r\n        return new PascalConverter()\r\n      case stringStyleType.Snake:\r\n        return new SnakeConverter()\r\n      case stringStyleType.ScreamingSnake:\r\n        return new ScreamingSnakeConverter()\r\n      default:\r\n        throw new Error('No corresponding converter found')\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * 字符串风格转换器\r\n * 请不要直接使用构造函数创建，而是用 {@link StringStyleUtil.getConverter} 来获得一个转换器\r\n * @private\r\n */\r\nexport class StringStyleConverter {\r\n  /**\r\n   * 构造一个字符串任意风格转换器\r\n   * @param {Symbol} from 转换字符串的风格\r\n   * @param {Symbol} to 需要转换的风格\r\n   * @private\r\n   */\r\n  constructor (from, to) {\r\n    /**\r\n     * @field 解析字符串风格的转换器\r\n     * @type {IConverter}\r\n     * @private\r\n     */\r\n    this.fromConverter = ConverterFactory.getInstance(from)\r\n    /**\r\n     * @field 构造字符串风格的转换器\r\n     * @type {IConverter}\r\n     * @private\r\n     */\r\n    this.toConverter = ConverterFactory.getInstance(to)\r\n  }\r\n\r\n  /**\r\n   * 转换字符串的风格\r\n   *\r\n   * @param {String} str 要转换的字符串\r\n   * @return {String} 转换得到的字符串\r\n   */\r\n  convert (str) {\r\n    if (stringValidator.isEmpty(str)) {\r\n      return str\r\n    }\r\n    return this.toConverter.to(this.fromConverter.from(str))\r\n  }\r\n}\r\n\r\n/**\r\n * 包装获取字符串风格转换器\r\n * 此处采用了单例模式，每种转换器只会有一个\r\n *\r\n * @param {stringStyleType} from 解析风格\r\n * @param {stringStyleType} to 转换风格\r\n * @return {StringStyleConverter} 转换器的实例\r\n */\r\nconst _getConverter = onceOfSameParam(\r\n  /**\r\n   * @param {stringStyleType} from 解析风格\r\n   * @param {stringStyleType} to 转换风格\r\n   * @return {StringStyleConverter} 转换器的实例\r\n   */\r\n  (from, to) => new StringStyleConverter(from, to),\r\n  /**\r\n   * 根据参数生成唯一标识\r\n   * @param {stringStyleType} from 解析风格\r\n   * @param {stringStyleType} to 转换风格\r\n   * @return {String} 唯一参数标识字符串\r\n   */\r\n  (from, to) => from.toString() + to.toString()\r\n)\r\n\r\n/**\r\n * 字符串风格转换工具类\r\n */\r\nexport class StringStyleUtil {\r\n  /**\r\n   * 获取一个转换器的实例\r\n   * 该函数获取的转换器可以任意复用，请优先使用函数\r\n   * @param {stringStyleType} from 解析风格\r\n   * @param {stringStyleType} to 转换风格\r\n   * @return {StringStyleConverter} 转换器的实例\r\n   */\r\n  static getConverter (from, to) {\r\n    return _getConverter(from, to)\r\n  }\r\n  /**\r\n   * 直接转换字符串的风格\r\n   * 请优先使用可以复用的 {@link StringStyleUtil.getConverter} 函数\r\n   * @param {stringStyleType} from 解析风格\r\n   * @param {stringStyleType} to 转换风格\r\n   * @param {String} str 要转换的字符串\r\n   * @return {String} 转换得到的字符串\r\n   */\r\n  static convert (from, to, str) {\r\n    return StringStyleUtil.getConverter(from, to).convert(str)\r\n  }\r\n}\r\n","/**\r\n * 将函数包装为柯里化函数\r\n * 注: 该函数模仿了 Lodash 的 curry 函数\r\n * @param {Function} fn 需要包装的函数\r\n * @param  {...any} args 应用的部分参数\r\n * @returns {Function} 包装后的函数\r\n */\r\nexport function curry (fn, ...args) {\r\n  const realArgs = args.filter(arg => arg !== curry._)\r\n  if (realArgs.length >= fn.length) {\r\n    return fn(...realArgs)\r\n  }\r\n\r\n  function innerFn (...otherArgs) {\r\n    // 记录需要移除补到前面的参数\r\n    const removeIndexSet = new Set()\r\n    let i = 0\r\n    const newArgs = args.map(arg => {\r\n      if (\r\n        arg !== curry._ ||\r\n        otherArgs[i] === undefined ||\r\n        otherArgs[i] === curry._\r\n      ) {\r\n        return arg\r\n      }\r\n      removeIndexSet.add(i)\r\n      // 每次补偿前面的 curry._ 参数计数器 +1\r\n      return otherArgs[i++]\r\n    })\r\n    const newOtherArgs = otherArgs.filter((_v, i) => !removeIndexSet.has(i))\r\n    return curry(fn, ...newArgs, ...newOtherArgs)\r\n  }\r\n\r\n  // 自定义 toString 函数便于调试\r\n  innerFn.toString = () =>\r\n    `name: ${fn.name}, args: [${args.map(o => o.toString()).join(', ')}]`\r\n  innerFn._curry = true\r\n\r\n  return innerFn\r\n}\r\n\r\n/**\r\n * 柯里化的占位符，需要应用后面的参数时使用\r\n * 例如 {@link curry(fn)(curry._, 1)} 意味着函数 fn 的第二个参数将被确定为 1\r\n */\r\ncurry._ = Symbol('_')\r\n","import { dateFormat } from './dateFormat'\r\nimport { dateParse } from './dateParse'\r\nimport { isNullOrUndefined } from '../obj/isNullOrUndefined'\r\nimport { stringValidator } from '../string/stringValidator'\r\n\r\n/**\r\n * 日期格式化器\r\n * 包含格式化为字符串和解析字符串为日期的函数\r\n */\r\nexport class DateFormatter {\r\n  /**\r\n   * 构造函数\r\n   * @param {String} fmt 日期时间格式\r\n   */\r\n  constructor (fmt) {\r\n    /**\r\n     * @field 日期时间格式\r\n     */\r\n    this.fmt = fmt\r\n  }\r\n  /**\r\n   * 格式化\r\n   * @param {Date} date 需要格式化的日期\r\n   * @returns {String} 格式化的字符串\r\n   */\r\n  format (date) {\r\n    if (isNullOrUndefined(date)) {\r\n      return ''\r\n    }\r\n    return dateFormat(date, this.fmt)\r\n  }\r\n  /**\r\n   * 解析\r\n   * @param {String} str 字符串\r\n   * @returns {Date} 解析得到的日期\r\n   */\r\n  parse (str) {\r\n    if (stringValidator.isEmpty(str)) {\r\n      return null\r\n    }\r\n    return dateParse(str, this.fmt)\r\n  }\r\n  /**\r\n   * 将日期时间字符串转换为前端指定格式的字符串\r\n   * 主要适用场景是前端接收到后端的日期时间一般是一个字符串，然而需要自定义格式的时候还必须先创建 {@link Date} 对象才能格式化，略微繁琐，故使用该函数\r\n   * @param {String} str 字符串\r\n   * @param {String} [parseFmt=undefined] 解析的日期时间格式。默认直接使用 {@link new Date()} 创建\r\n   * @returns {String} 转换后得到的字符串\r\n   */\r\n  strFormat (str, parseFmt) {\r\n    if (stringValidator.isEmpty(str)) {\r\n      return ''\r\n    }\r\n    const date = parseFmt ? dateParse(str, parseFmt) : new Date(str)\r\n    return dateFormat(date, this.fmt)\r\n  }\r\n}\r\n\r\n/**\r\n * 日期格式化器\r\n */\r\nDateFormatter.dateFormatter = new DateFormatter('yyyy-MM-dd')\r\n/**\r\n * 时间格式化器\r\n */\r\nDateFormatter.timeFormatter = new DateFormatter('hh:mm:ss')\r\n/**\r\n * 日期时间格式化器\r\n */\r\nDateFormatter.dateTimeFormatter = new DateFormatter('yyyy-MM-dd hh:mm:ss')\r\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var defineProperty = require(\"./defineProperty\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread;","/**\r\n * 无限的超时时间\r\n * TODO 此处暂时使用字符串作为一种折衷方法，因为 Symbol 无法被序列化为 JSON，反向序列化也是不可能的\r\n */\r\nexport const TimeoutInfinite = Symbol('TimoutInfinite').toString()\r\n\r\n/**\r\n * 缓存选项\r\n */\r\nexport class CacheOption {\r\n  /**\r\n   * 构造函数\r\n   * @param {Object} options 缓存选项对象\r\n   * @param {Number|Symbol|String} [options.timeout] 超时时间，以毫秒为单位\r\n   * @param {Number} [options.timeStart] 缓存开始时间\r\n   * @param {Function} [options.serialize] 缓存序列化\r\n   * @param {Function} [options.deserialize] 缓存反序列化\r\n   */\r\n  constructor ({ timeout, timeStart, serialize, deserialize } = {}) {\r\n    /**\r\n     * @field 超时时间，以毫秒为单位\r\n     */\r\n    this.timeout = timeout\r\n    /**\r\n     * @field 缓存开始时间\r\n     */\r\n    this.timeStart = timeStart\r\n    /**\r\n     * @field 缓存序列化\r\n     */\r\n    this.serialize = serialize\r\n    /**\r\n     * @field 缓存反序列化\r\n     */\r\n    this.deserialize = deserialize\r\n  }\r\n}\r\n","import { getObjectKeys } from './getObjectKeys'\r\n\r\n/**\r\n * 获取对象中所有的属性及对应的值，包括 ES6 新增的 Symbol 类型的属性\r\n * @param {Object} object 任何对象\r\n * @returns {Array.<String|Symbol>} 属性及其对应值的二维数组\r\n */\r\nexport function getObjectEntries (object) {\r\n  // @ts-ignore\r\n  return getObjectKeys(object).map(k => [k, object[k]])\r\n}\r\n","import { flatMap } from '../array/flatMap'\r\nimport { isNullOrUndefined } from './isNullOrUndefined'\r\nimport { getObjectEntries } from './getObjectEntries'\r\n\r\n/**\r\n * 合并多个对象的属性\r\n * 1. 该合并的方式为浅层合并，只会合并一层的对象\r\n * 2. 默认忽略值为 undefined/null 的属性\r\n * @param  {...Object} objects 任意数量的对象\r\n * @returns {Object} 合并后的对象\r\n */\r\nexport function assign (...objects) {\r\n  return flatMap(objects, object =>\r\n    isNullOrUndefined(object) ? [] : getObjectEntries(object)\r\n  ).reduce((res, [k, v]) => {\r\n    if (isNullOrUndefined(v)) {\r\n      return res\r\n    }\r\n    res[k] = v\r\n    return res\r\n  }, {})\r\n}\r\n","// eslint-disable-next-line no-unused-vars\r\nimport { CacheOption, TimeoutInfinite } from './CacheOption'\r\nimport { assign } from '../obj/assign'\r\n\r\n/**\r\n * 缓存接口\r\n * 功能\r\n * 1. add 增加。如果不存在则添加，否则忽略\r\n * 2. del 删除。如果存在则删除，否则忽略\r\n * 3. set 修改。如果存在则设置，否则忽略\r\n * 4. get 根据 key 获取。如果存在则获取，否则忽略\r\n * 5. touch 根据 key 获取并刷新超时时间\r\n * 6. find 根据谓词查询 key\r\n * 7. list 根据谓词查询 key 获得列表\r\n *\r\n * @interface\r\n * TODO 这里的接口 API 需要进行重构\r\n */\r\nexport class ICache {\r\n  /**\r\n   * 全局缓存选项\r\n   * @param {CacheOption} cacheOption 缓存选项\r\n   */\r\n  constructor (cacheOption) {\r\n    /**\r\n     * @field 缓存选项\r\n     */\r\n    this.cacheOption = assign(\r\n      new CacheOption({\r\n        timeout: TimeoutInfinite,\r\n        serialize: JSON.stringify,\r\n        deserialize: JSON.parse,\r\n      }),\r\n      cacheOption\r\n    )\r\n  }\r\n  /**\r\n   * 根据 key + value 添加\r\n   * 如果不存在则添加，否则忽略\r\n   * @param {String} key 缓存的 key\r\n   * @param {Object} val 缓存的 value\r\n   * @param {CacheOption} cacheOption 缓存的选项\r\n   * @abstract\r\n   */\r\n  add (key, val, cacheOption) {}\r\n  /**\r\n   * 根据指定的 key 删除\r\n   * 如果存在则删除，否则忽略\r\n   * @param {String} key 删除的 key\r\n   * @abstract\r\n   */\r\n  del (key) {}\r\n  /**\r\n   * 根据指定的 key 修改\r\n   * 不管是否存在都会设置\r\n   * @param {String} key 修改的 key\r\n   * @param {Object} val 修改的 value\r\n   * @param {CacheOption} cacheOption 修改的选项\r\n   * @abstract\r\n   */\r\n  set (key, val, cacheOption) {}\r\n  /**\r\n   * 根据 key 获取\r\n   * 如果存在则获取，否则忽略\r\n   * @param {String} key 指定的 key\r\n   * @param {CacheOption} cacheOption 获取的选项\r\n   * @returns {Object} 获取到的缓存值\r\n   * @abstract\r\n   */\r\n  get (key, cacheOption) {}\r\n  /**\r\n   * 根据 key 获取并刷新超时时间\r\n   * @param {String} key 指定的 key\r\n   * @param {CacheOption} cacheOption 获取的选项\r\n   * @returns {Object} 获取到的缓存值\r\n   * @abstract\r\n   */\r\n  touch (key, cacheOption) {}\r\n}\r\n","// eslint-disable-next-line no-unused-vars\r\nimport { CacheOption } from './CacheOption'\r\n\r\n/**\r\n * 缓存的值\r\n */\r\nexport class CacheVal {\r\n  /**\r\n   * 构造函数\r\n   * @param {Object} options 缓存值对象\r\n   * @param {String} options.key 缓存的键原始值\r\n   * @param {Object} options.val 缓存的值\r\n   * @param {CacheOption} options.cacheOption 缓存的选项\r\n   */\r\n  constructor ({ key, val, cacheOption }) {\r\n    /**\r\n     * @field 缓存的键原始值\r\n     */\r\n    this.key = key\r\n    /**\r\n     * @field 缓存的值\r\n     */\r\n    this.val = val\r\n    /**\r\n     * @field 缓存的选项\r\n     */\r\n    this.cacheOption = cacheOption\r\n  }\r\n}\r\n","import { ICache } from './ICache'\r\nimport { CacheVal } from './CacheVal'\r\nimport { CacheOption, TimeoutInfinite } from './CacheOption'\r\nimport { assign } from '../obj/assign'\r\nimport { safeExec } from '../function/safeExec'\r\nimport { wait } from '../function/wait'\r\n\r\n/**\r\n * 使用 LocalStorage 实现的缓存\r\n */\r\nexport class LocalStorageCache extends ICache {\r\n  /**\r\n   * 构造函数\r\n   * @param {CacheOption} [cacheOption] 全局缓存选项\r\n   */\r\n  constructor (cacheOption) {\r\n    super(cacheOption)\r\n    /**\r\n     * 缓存对象，默认使用 localStorage\r\n     */\r\n    this.localStorage = window.localStorage\r\n    // 创建后将异步清空所有过期的缓存\r\n    this.clearExpired()\r\n  }\r\n  /**\r\n   * 清空所有过期的 key\r\n   * 注: 该函数是异步执行的\r\n   */\r\n  async clearExpired () {\r\n    const local = this.localStorage\r\n    const len = local.length\r\n    const delKeys = []\r\n    for (let i = 0; i < len; i++) {\r\n      await wait(0)\r\n      const key = local.key(i)\r\n      const str = local.getItem(key)\r\n      const cacheVal = safeExec(JSON.parse, null, str)\r\n      if (cacheVal === null) {\r\n        continue\r\n      }\r\n      const { timeStart, timeout } = cacheVal.cacheOption\r\n      // 如果超时则删除并返回 null\r\n      // console.log(i, cacheVal, Date.now(), Date.now() - timeStart > timeout)\r\n      if (timeout !== TimeoutInfinite && Date.now() - timeStart > timeout) {\r\n        delKeys.push(key)\r\n      }\r\n      // console.log(i, key, local.getItem(key))\r\n    }\r\n    await delKeys.forEach(async key => local.removeItem(key))\r\n  }\r\n  /**\r\n   * 根据 key + value 添加\r\n   * 如果不存在则添加，否则忽略\r\n   * @param {String} key 缓存的 key\r\n   * @param {Object} val 缓存的 value\r\n   * @param {CacheOption} [cacheOption] 缓存的选项，默认为无限时间\r\n   * @override\r\n   */\r\n  add (key, val, cacheOption) {\r\n    const result = this.get(key, cacheOption)\r\n    if (result !== null) {\r\n      return\r\n    }\r\n    this.set(key, val, cacheOption)\r\n  }\r\n  /**\r\n   * 根据指定的 key 删除\r\n   * 如果存在则删除，否则忽略\r\n   * @param {String} key 删除的 key\r\n   * @override\r\n   */\r\n  del (key) {\r\n    this.localStorage.removeItem(key)\r\n  }\r\n  /**\r\n   * 根据指定的 key 修改\r\n   * 不管是否存在都会设置\r\n   * @param {String} key 修改的 key\r\n   * @param {Object} val 修改的 value\r\n   * @param {CacheOption} [cacheOption] 修改的选项\r\n   * @override\r\n   */\r\n  set (key, val, cacheOption = new CacheOption()) {\r\n    const option = assign(this.cacheOption, cacheOption)\r\n    this.localStorage.setItem(\r\n      key,\r\n      JSON.stringify(\r\n        new CacheVal({\r\n          key,\r\n          val: option.serialize(val),\r\n          cacheOption: { ...option, timeStart: option.timeStart || Date.now() },\r\n        })\r\n      )\r\n    )\r\n  }\r\n  /**\r\n   * 根据 key 获取\r\n   * 如果存在则获取，否则忽略\r\n   * @param {String} key 指定的 key\r\n   * @param {CacheOption} cacheOption 获取的选项\r\n   * @returns {Object} 获取到的缓存值\r\n   * @override\r\n   */\r\n  get (key, cacheOption = new CacheOption()) {\r\n    const str = this.localStorage.getItem(key)\r\n    const cacheVal = safeExec(JSON.parse, null, str)\r\n    if (cacheVal === null) {\r\n      return null\r\n    }\r\n    const { timeStart, timeout, deserialize } = assign(\r\n      this.cacheOption,\r\n      cacheVal.cacheOption,\r\n      cacheOption\r\n    )\r\n    // 如果超时则删除并返回 null\r\n    if (timeout !== TimeoutInfinite && Date.now() - timeStart > timeout) {\r\n      this.del(key)\r\n      return null\r\n    }\r\n    try {\r\n      return deserialize(cacheVal.val)\r\n    } catch (e) {\r\n      this.del(key)\r\n      return null\r\n    }\r\n  }\r\n  /**\r\n   * 根据 key 获取并刷新超时时间\r\n   * @param {String} key 指定的 key\r\n   * @param {CacheOption} cacheOption 获取的选项\r\n   * @returns {Object} 获取到的缓存值\r\n   * @override\r\n   */\r\n  touch (key, cacheOption = new CacheOption()) {\r\n    const str = this.localStorage.getItem(key)\r\n    /**\r\n     * @type {CacheVal}\r\n     */\r\n    const cacheVal = safeExec(JSON.parse, null, str)\r\n    if (cacheVal === null) {\r\n      return null\r\n    }\r\n    /**\r\n     * @type {CacheOption}\r\n     */\r\n    const option = assign(this.cacheOption, cacheVal.cacheOption, cacheOption)\r\n    const { timeStart, timeout, deserialize } = option\r\n    // 如果超时则删除并返回 null\r\n    if (timeout !== TimeoutInfinite && Date.now() - timeStart > timeout) {\r\n      this.del(key)\r\n      return null\r\n    }\r\n    try {\r\n      const result = deserialize(cacheVal.val)\r\n      this.set(key, result, assign(option, { timeStart: Date.now() }))\r\n      return result\r\n    } catch (e) {\r\n      this.del(key)\r\n      return null\r\n    }\r\n  }\r\n}\r\n","import { LocalStorageCache } from './LocalStorageCache'\r\nimport { TimeoutInfinite, CacheOption } from './CacheOption'\r\n\r\n/**\r\n * 默认使用的 {@link ICache} 接口的缓存实现\r\n */\r\nconst cache = new LocalStorageCache()\r\n\r\n/**\r\n * 缓存工具类\r\n * 主要实现缓存高阶函数的封装\r\n */\r\nexport class CacheUtil {\r\n  /**\r\n   * 包裹函数为缓存函数\r\n   * @param {Function} fn 一个接受一些参数并返回结果的函数\r\n   * @param {Object} [options={}] 缓存选项对象。可选项\r\n   * @param {String|Number} [options.identity=fn.toString()] 缓存标识。默认为函数 {@link toString}，但有时候不太可行（继承自基类的函数）\r\n   * @param {Number|String} [options.timeout=TimeoutInfinite] 缓存时间。默认为无限\r\n   * @returns {Function|Object} 带有缓存功能的函数\r\n   */\r\n  onceOfSameParam (\r\n    fn,\r\n    { identity = fn.toString(), timeout = TimeoutInfinite } = {}\r\n  ) {\r\n    const generateKey = args =>\r\n      `onceOfSameParam-${identity}-${JSON.stringify(args)}`\r\n    const innerFn = function (...args) {\r\n      const key = generateKey(args)\r\n      const cacheOption = new CacheOption({ timeout })\r\n      const val = cache.get(key)\r\n      if (val !== null) {\r\n        return val\r\n      }\r\n      const result = fn.call(this, ...args)\r\n      if (result instanceof Promise) {\r\n        return result.then(res => {\r\n          cache.set(key, res, cacheOption)\r\n          return res\r\n        })\r\n      }\r\n      cache.set(key, result, cacheOption)\r\n      return result\r\n    }\r\n    /**\r\n     * 所包装的原函数\r\n     * @type {Function}\r\n     */\r\n    innerFn.origin = fn\r\n    /**\r\n     * 清空缓存，清空指定参数调用时的函数缓存\r\n     * @type {Function}\r\n     */\r\n    innerFn.clear = function (...args) {\r\n      const key = generateKey(args)\r\n      cache.del(key)\r\n    }\r\n    return innerFn\r\n  }\r\n}\r\n\r\n/**\r\n * 导出一个默认的缓存工具对象\r\n */\r\nexport const cacheUtil = new CacheUtil()\r\n","/**\r\n * 空的函数\r\n * @param {Array.<Object>} args 接受任何参数\r\n */\r\nexport function emptyFunc (...args) {}\r\n","import { timing } from '../function/timing'\r\nimport { emptyFunc } from '../function/emptyFunc'\r\n\r\n/**\r\n * 禁止他人调试网站相关方法的集合对象\r\n */\r\nexport const antiDebug = {\r\n  /**\r\n   * 不停循环 debugger 防止有人调试代码\r\n   */\r\n  cyclingDebugger () {\r\n    setInterval(() => {\r\n      // eslint-disable-next-line no-debugger\r\n      debugger\r\n    }, 100)\r\n  },\r\n\r\n  /**\r\n   * 检查是否正在 debugger 并调用回调函数\r\n   * @param {Function} fn 回调函数，默认为重载页面\r\n   */\r\n  checkDebug (fn = () => window.location.reload()) {\r\n    setInterval(() => {\r\n      const diff = timing(() => {\r\n        for (let i = 0; i < 1000; i++) {\r\n          console.log(i)\r\n          console.clear()\r\n        }\r\n      })\r\n      if (diff > 500) {\r\n        console.log(diff)\r\n        fn()\r\n      }\r\n    }, 1000)\r\n  },\r\n\r\n  /**\r\n   * 禁用控制台调试输出\r\n   */\r\n  disableConsoleOutput () {\r\n    if (!window.console) {\r\n      return\r\n    }\r\n    Object.keys(console).forEach(k => (console[k] = emptyFunc))\r\n  },\r\n}\r\n","import { isNullOrUndefined } from '../obj/isNullOrUndefined'\r\n\r\n/**\r\n * 数组校验器\r\n */\r\nexport class ArrayValidator {\r\n  /**\r\n   * 是否为空数组\r\n   * @param {Array} array 空数组\r\n   * @returns {Boolean} 是否为空数组\r\n   */\r\n  isEmpty (array) {\r\n    return (\r\n      isNullOrUndefined(array) ||\r\n      !(array instanceof Array) ||\r\n      array.length === 0\r\n    )\r\n  }\r\n}\r\n\r\n/**\r\n * 导出一个默认的数组校验对象\r\n */\r\nexport const arrayValidator = new ArrayValidator()\r\n","/**\r\n * 路径工具\r\n */\r\nexport class PathUtil {\r\n  /**\r\n   * 拼接两个路径\r\n   *\r\n   * @param {String} pathStart 开始路径\r\n   * @param {String} pathEnd   结束路径\r\n   * @return {String} 拼接完成的两个路径\r\n   */\r\n  static _join (pathStart, pathEnd) {\r\n    if (pathStart.endsWith(PathUtil.Separator)) {\r\n      return (pathStart + pathEnd).replace(\r\n        PathUtil.Separator + PathUtil.Separator,\r\n        PathUtil.Separator\r\n      )\r\n    }\r\n    if (pathEnd.startsWith(PathUtil.Separator)) {\r\n      return pathStart + pathEnd\r\n    }\r\n    return pathStart + PathUtil.Separator + pathEnd\r\n  }\r\n  /**\r\n   * 拼接多个路径\r\n   *\r\n   * @param {...String} paths 路径数组\r\n   * @return {String} 拼接完成的路径\r\n   */\r\n  join (...paths) {\r\n    return paths.reduce(PathUtil._join)\r\n  }\r\n}\r\n/**\r\n * 路径分隔符\r\n */\r\nPathUtil.Separator = '/'\r\n\r\n/**\r\n * 导出一个路径工具类\r\n */\r\nexport const pathUtil = new PathUtil()\r\n","import { emptyFunc } from '../function/emptyFunc'\r\n\r\n/**\r\n * 自定义的日志类\r\n * 与浏览器默认的 {@link console} 拥有着完全相同的函数列表，唯一一点区别是包含了一个全局开关用于控制是否输出日志\r\n */\r\nexport class Logger {\r\n  /**\r\n   * 构造函数\r\n   * @param {Object} [options] 可选项\r\n   * @param {Boolean} [options.enable] 是否开启日志\r\n   */\r\n  constructor ({ enable = true } = {}) {\r\n    this.enable = enable\r\n  }\r\n\r\n  /**\r\n   * 设置 enable 的 setter 属性，在改变时合并对应的子类对象实现\r\n   */\r\n  set enable (enable) {\r\n    /**\r\n     * @field 是否开启全局控制台，该属性只写\r\n     */\r\n    this._enable = enable\r\n    Object.keys(console).forEach(\r\n      k => (this[k] = enable ? console[k] : emptyFunc)\r\n    )\r\n  }\r\n  /**\r\n   * 替代原生的 {@link console.log}\r\n   * 虽然这里只写了一个 log，但事实上 {@link console} 所有的函数都存在\r\n   * @param {Object} message 打印的消息\r\n   * @param {Array.<Object>} optionalParams 其他参数\r\n   * @abstract\r\n   */\r\n  log (message, ...optionalParams) {}\r\n}\r\n\r\n/**\r\n * 导出一个全局可用的 Logger 对象\r\n * 使用 enable 属性控制是否开启日志输出，默认为 true\r\n */\r\nexport const logger = new Logger()\r\n","import { getObjectKeys } from './getObjectKeys'\r\n\r\n/**\r\n * 将 Object 对象 转换为 Map\r\n * @param {Object} obj Object 对象\r\n * @returns {Map} 转换得到的 Map 键值表\r\n */\r\nexport function objectToMap (obj) {\r\n  // @ts-ignore\r\n  return getObjectKeys(obj).reduce((map, k) => map.set(k, obj[k]), new Map())\r\n}\r\n","import { objectToMap } from '../obj/objectToMap'\r\n\r\n/**\r\n * 桥接对象不存在的字段\r\n * @param {Map.<String|Number|symbol, String|Number|symbol>|Object} map 代理的字段映射 Map\r\n * @returns {Function} 转换一个对象为代理对象\r\n */\r\nexport function bridge (map) {\r\n  if (!(map instanceof Map)) {\r\n    map = objectToMap(map)\r\n  }\r\n  /**\r\n   * 为对象添加代理的函数\r\n   * @param {Object} obj 任何对象\r\n   * @returns {Proxy} 代理后的对象\r\n   */\r\n  return function (obj) {\r\n    return new Proxy(obj, {\r\n      get (target, k) {\r\n        if (map.has(k)) {\r\n          return Reflect.get(target, map.get(k))\r\n        }\r\n        return Reflect.get(target, k)\r\n      },\r\n      set (target, k, v) {\r\n        if (map.has(k)) {\r\n          Reflect.set(target, map.get(k), v)\r\n          return true\r\n        }\r\n        Reflect.set(target, k, v)\r\n        return true\r\n      },\r\n    })\r\n  }\r\n}\r\n","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","import { arrayValidator } from '../array/arrayValidator'\r\nimport { returnItself } from '../function/returnItself'\r\n// eslint-disable-next-line no-unused-vars\r\nimport { INode } from './Node'\r\n\r\n/**\r\n * 遍历并映射一棵树的每个节点\r\n * @param {Object} root 树节点\r\n * @param {Object} [options] 其他选项\r\n * @param {Function} [options.before=returnItself] 遍历子节点之前的操作。默认返回自身\r\n * @param {Function} [options.after=returnItself] 遍历子节点之后的操作。默认返回自身\r\n * @param {Function} [options.paramFn=(node, args) => []] 递归的参数生成函数。默认返回一个空数组\r\n * @returns {INode} 递归遍历后的树节点\r\n */\r\nexport function treeMapping (\r\n  root,\r\n  {\r\n    before = returnItself,\r\n    after = returnItself,\r\n    paramFn = (node, ...args) => [],\r\n  } = {}\r\n) {\r\n  /**\r\n   * 遍历一颗完整的树\r\n   * @param {INode} node 要遍历的树节点\r\n   * @param  {...Object} [args] 每次递归遍历时的参数\r\n   */\r\n  function _treeMapping (node, ...args) {\r\n    // 之前的操作\r\n    let _node = before(node, ...args)\r\n    const childs = _node.child\r\n    if (arrayValidator.isEmpty(childs)) {\r\n      return _node\r\n    }\r\n    // 产生一个参数\r\n    const len = childs.length\r\n    for (let i = 0; i < len; i++) {\r\n      childs[i] = _treeMapping(childs[i], ...paramFn(_node, ...args))\r\n    }\r\n    // 之后的操作\r\n    return after(_node, ...args)\r\n  }\r\n  return _treeMapping(root)\r\n}\r\n","/**\r\n * 桥接对象为标准的树结构 {@link INode}\r\n */\r\nexport class NodeBridge {\r\n  /**\r\n   * 构造函数\r\n   * @param {Object} [options] 桥接对象\r\n   * @param {String} [options.id='id'] 树结点的 id 属性名\r\n   * @param {String} [options.parentId='parentId'] 树结点的父节点 id 属性名\r\n   * @param {String} [options.child='child'] 树结点的子节点数组属性名\r\n   * @param {String} [options.path='path'] 树结点的全路径属性名\r\n   * @param {Array.<Object>} [options.args] 其他参数\r\n   */\r\n  static bridge ({\r\n    id = 'id',\r\n    parentId = 'parentId',\r\n    child = 'child',\r\n    path = 'path',\r\n    ...args\r\n  } = {}) {\r\n    /**\r\n     * @field 树结点的 id 属性名\r\n     */\r\n    this.id = id\r\n    /**\r\n     * @field 树结点的父节点 id 属性名\r\n     */\r\n    this.parentId = parentId\r\n    /**\r\n     * @field 树结点的子节点数组属性名\r\n     */\r\n    this.child = child\r\n    /**\r\n     * @field 树结点的全路径属性名\r\n     */\r\n    this.path = path\r\n    Object.assign(this, args)\r\n  }\r\n}\r\n","import { bridge } from '../function/bridge'\r\nimport { NodeBridge } from './NodeBridge'\r\n// eslint-disable-next-line no-unused-vars\r\nimport { INode } from './Node'\r\nimport { treeMapping } from './treeMapping'\r\n\r\n/**\r\n * 树节点桥接工具类\r\n * 主要实现了桥接 {@field bridge} {@field bridgeTree} 和 {@field bridgeList} 三个函数，事实上桥接之后再转换相当于做了两遍，但就目前而言暂且只能如此了\r\n */\r\nexport class NodeBridgeUtil {\r\n  /**\r\n   * 桥接对象为标准的树结构\r\n   * @param {NodeBridge} [nodeBridge=new NodeBridge()] 桥接对象\r\n   * @returns {Function} 代理函数\r\n   */\r\n  bridge (nodeBridge) {\r\n    return bridge(Object.assign(new NodeBridge(), nodeBridge))\r\n  }\r\n  /**\r\n   * 桥接一棵完整的树\r\n   * @param {INode} tree 树节点\r\n   * @param {NodeBridge} [nodeBridge=new INodeBridge()] 桥接对象\r\n   * @returns {INode} 代理后的树对象\r\n   */\r\n  bridgeTree (tree, nodeBridge) {\r\n    return treeMapping(tree, {\r\n      before: this.bridge(nodeBridge),\r\n    })\r\n  }\r\n  /**\r\n   * 桥接一个树节点列表\r\n   * @param {Array.<INode>} list 树节点列表\r\n   * @param {NodeBridge} [nodeBridge=new NodeBridge()] 桥接对象\r\n   * @returns {Array.<INode>} 代理后的树节点列表\r\n   */\r\n  bridgeList (list, nodeBridge) {\r\n    // @ts-ignore\r\n    return list.map(this.bridge(nodeBridge))\r\n  }\r\n}\r\n\r\n/**\r\n * 导出一个 NodeBridgeUtil 的实例\r\n */\r\nexport const nodeBridgeUtil = new NodeBridgeUtil()\r\n","import { returnItself } from '../function/returnItself'\r\n\r\n/**\r\n * 根据不同的源对象获取不同的正则匹配，代表不需要拷贝的属性\r\n * @param {Object} source 源对象\r\n * @returns {RegExp} 匹配内部属性的正则表达式\r\n */\r\nfunction getInnerFieldRule (source) {\r\n  if (source instanceof Function) {\r\n    return /^(?:constructor|prototype|arguments|caller|name|bind|call|apply|toString|length)$/\r\n  } else {\r\n    return /^(?:toString|length)$/\r\n  }\r\n}\r\n\r\n/**\r\n * 拷贝对象的属性到目标对象上\r\n * @param {Object} target 目标对象\r\n * @param {Object} source 源对象\r\n * @returns {Object} 返回 {@param target} 目标对象\r\n */\r\nfunction _copyProps (target, source) {\r\n  const innerField = getInnerFieldRule(source)\r\n  Reflect.ownKeys(source).forEach(prop => {\r\n    if (typeof prop === 'string' && innerField.test(prop)) {\r\n      return\r\n    }\r\n    Reflect.set(target, prop, Reflect.get(source, prop))\r\n  })\r\n  return target\r\n}\r\n\r\n/**\r\n * 混合多个类\r\n * @param  {...Class} mixins 需要混合的多个类及其构造函数参数映射函数的 Map 集合\r\n * @returns {Class} 返回一个混合后的类，构造函数将的参数\r\n */\r\nexport function aggregation (mixins) {\r\n  const map = Array.from(mixins)\r\n  class __Aggregate {\r\n    /**\r\n     * @param {...Object} args 任意数量的参数\r\n     */\r\n    constructor (...args) {\r\n      map.forEach(([Mixin, fn = returnItself]) => {\r\n        _copyProps(this, new Mixin(...fn(args)))\r\n      })\r\n    }\r\n  }\r\n\r\n  map.forEach(([Mixin]) => {\r\n    _copyProps(__Aggregate.prototype, Mixin.prototype)\r\n    _copyProps(__Aggregate, Mixin)\r\n  })\r\n\r\n  return __Aggregate\r\n}\r\n","import { wait } from '../function/wait'\r\n\r\n/**\r\n * 默认的超时时间，可以认为是无限\r\n */\r\nconst TimeoutInfinity = () => false\r\n/**\r\n * 创建一个 Lock 对象，用于锁住当前的当前的异步流程\r\n */\r\nexport class Locker {\r\n  /**\r\n   * @param {Object} [options={}] 可选项\r\n   * @param {Number} [options.limit=1] 限制并发数量，默认为 1\r\n   * @param {Number|Function} [options.timeout=TimeoutInfinity] 超时时间，默认为无限\r\n   */\r\n  constructor ({ limit = 1, timeout = TimeoutInfinity } = {}) {\r\n    /**\r\n     * @field 限制并发数量，默认为 1\r\n     */\r\n    this.limit = limit\r\n    /**\r\n     * @field 超时时间，默认为无限\r\n     */\r\n    this.timeout = timeout\r\n  }\r\n  /**\r\n   * 当前是否锁住了\r\n   * @returns {Boolean} 是否锁住了\r\n   */\r\n  isLocked () {\r\n    return this.limit <= 0\r\n  }\r\n  /**\r\n   * 添加异步锁\r\n   * @param {Number|Function} [timeout=this.timeout] 超时时间，默认为全局 timeout\r\n   * @returns {Promise} 进行等待\r\n   */\r\n  async lock (timeout = this.timeout) {\r\n    if (this.isLocked()) {\r\n      /**\r\n       * @type {Number|Function}\r\n       */\r\n      await Promise.race([\r\n        wait(() => {\r\n          const result = !this.isLocked()\r\n          if (result) {\r\n            this.limit--\r\n          }\r\n          return result\r\n        }),\r\n        wait(timeout),\r\n      ])\r\n    } else {\r\n      this.limit--\r\n    }\r\n  }\r\n  /**\r\n   * 删除异步锁\r\n   */\r\n  unlock () {\r\n    this.limit++\r\n  }\r\n}\r\n","/**\r\n * FormData 批量添加方法\r\n * 注：该方法不会覆盖掉原本的属性\r\n * @param {FormData} fd FormData 对象\r\n * @param {Object} obj 键值对对象\r\n * @returns {FormData} 添加完成后的 FormData 对象\r\n */\r\nexport function appends (fd, obj) {\r\n  for (const key in obj) {\r\n    fd.append(key, obj[key])\r\n  }\r\n  return fd\r\n}\r\n","import { wait } from '../function/wait'\r\n\r\n/**\r\n * 包装一个异步函数为有限制并发功能的函数\r\n * @param {Function} fn 异步函数\r\n * @param {Object} [options={}] 可选参数\r\n * @param {Number} [options.limit=1] 并发限制数量，默认为 1\r\n * @returns {Function} 返回被包装后的限制并发功能的函数\r\n */\r\nexport function asyncLimiting (fn, { limit = 1 } = {}) {\r\n  // 当前正在执行异步的数量\r\n  let execCount = 0\r\n  // waitArr 等待的队列\r\n  const takeQueue = []\r\n  // 是否增加了 execCount 的标记\r\n  let flag = false\r\n  return new Proxy(fn, {\r\n    async apply (target, thisArg, args) {\r\n      const _takeRun = async () => {\r\n        if (!flag) {\r\n          execCount++\r\n          flag = false\r\n        }\r\n        const tempArgs = takeQueue.shift()\r\n        // console.log(args + ' 执行前: ' + execCount)\r\n        try {\r\n          return await Reflect.apply(target, thisArg, tempArgs)\r\n        } finally {\r\n          // console.log(args + ' 执行后: ')\r\n          execCount--\r\n        }\r\n      }\r\n      takeQueue.push(args)\r\n\r\n      // console.log(args + ' 判断前: ')\r\n      await wait(() => {\r\n        const result = execCount < limit\r\n        if (result) {\r\n          flag = true\r\n          execCount++\r\n        }\r\n        return result\r\n      })\r\n      // console.log(args + ' 判断后: ' + execCount)\r\n      return _takeRun()\r\n    },\r\n  })\r\n}\r\n","import { blankToNull } from './../string/blankToNull'\r\nimport { getObjectKeys } from './getObjectKeys'\r\n\r\n/**\r\n * 置空对象所有空白的属性\r\n *\r\n * @param {Object} obj 对象\r\n * @returns {Object} 将所有的空白属性全部转换为 null 的新对象\r\n */\r\nexport function blankToNullField (obj) {\r\n  const res = {}\r\n  getObjectKeys(obj).forEach(k => {\r\n    // @ts-ignore\r\n    const v = obj[k]\r\n    res[k] = typeof v === 'string' ? blankToNull(v) : v\r\n  })\r\n  return res\r\n}\r\n","/**\r\n * 深度比较两个对象是否相等\r\n * @param {any} x 任何对象\r\n * @param {any} y 任何对象\r\n * @returns {Boolean} 是否相等\r\n */\r\nexport function compare (x, y) {\r\n  if (typeof x === 'number' && typeof y === 'number') {\r\n    // 如果都是 NaN 则直接返回 true\r\n    if (isNaN(x) && isNaN(y)) {\r\n      return true\r\n    }\r\n    // 如果均为数字且两数之差的绝对值小于浮点数的最小精度（此举主要是为了避免浮点数的精度丢失）\r\n    if (Math.abs(x - y) < Number.EPSILON) {\r\n      return true\r\n    }\r\n  }\r\n  // 如果恒等表达式成立则直接返回 true\r\n  if (x === y) {\r\n    return true\r\n  }\r\n  // 如果是函数则比较 toString() 后的字符串\r\n  if (typeof x === 'function' && typeof y === 'function') {\r\n    if (\r\n      (x instanceof RegExp && y instanceof RegExp) ||\r\n      (x instanceof String || y instanceof String) ||\r\n      (x instanceof Number || y instanceof Number)\r\n    ) {\r\n      return x.toString() === y.toString()\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n  // 如果都是时间则比较它们的时间戳\r\n  if (x instanceof Date && y instanceof Date) {\r\n    return x.getTime() === y.getTime()\r\n  }\r\n  // 如果两者有一个不是 Object 类型的话则直接返回 false\r\n  // 注: 此处直接返回 false 是因为特殊原生类型的都在上面处理过了\r\n  // 注: Array 可以按照 Object 的逻辑进行处理\r\n  if (!(x instanceof Object && y instanceof Object)) {\r\n    return false\r\n  }\r\n  // 比较它们的原型\r\n  if (x.prototype !== y.prototype) {\r\n    return false\r\n  }\r\n  // 比较构造函数\r\n  if (x.constructor !== y.constructor) {\r\n    return false\r\n  }\r\n  // 比较 y 中的属性是否全部都在 x 中\r\n  for (let p of Reflect.ownKeys(y)) {\r\n    if (!Reflect.has(x, p)) {\r\n      return false\r\n    }\r\n  }\r\n  // 比较 x 中的属性是否全部都在 y 中\r\n  for (let p of Reflect.ownKeys(x)) {\r\n    if (!Reflect.has(y, p)) {\r\n      return false\r\n    }\r\n    // 比较每个元素的类型，如果不同则直接返回 false\r\n    if (typeof y[p] !== typeof x[p]) {\r\n      return false\r\n    }\r\n    // 递归比较每个元素\r\n    if (!compare(x[p], y[p])) {\r\n      return false\r\n    }\r\n  }\r\n  // 全部比较完成仍然没有结果就返回 true\r\n  return true\r\n}\r\n","import { curry } from './curry'\r\n\r\n/**\r\n * 连接两个函数并自动柯里化\r\n * @param {Function} fn1 第一个函数\r\n * @param {Function} fn2 第二个函数\r\n * @returns {Function} 连接后的函数\r\n */\r\nconst _compose = (fn1, fn2) => {\r\n  return function (...args) {\r\n    const res = curry(fn1, ...args)\r\n    // 如果这个函数的参数不足，则返回它\r\n    // @ts-ignore\r\n    if (res instanceof Function && res._curry === true) {\r\n      return _compose(res, fn2)\r\n    }\r\n    return curry(fn2, res)\r\n  }\r\n}\r\n\r\n/**\r\n * 将多个函数组合起来\r\n * 前面函数的返回值将变成后面函数的第一个参数，如果到了最后一个函数执行完成，则直接返回\r\n * 该函数是自动柯里化，将对所有传入的函数进行柯里化处理\r\n * @param  {...Function} fns 多个需要连接函数\r\n * @returns {Function} 连接后的柯里化函数\r\n */\r\nexport function compose (...fns) {\r\n  return fns.reduceRight((fn1, fn2) => _compose(fn2, fn1))\r\n}\r\n","/**\r\n * 复制一段文本内容\r\n * @param {String} text 要进行复制的文本\r\n * @returns {Boolean} 是否复制成功\r\n */\r\nexport function copyText (text) {\r\n  const input = document.createElement('input')\r\n  document.body.appendChild(input)\r\n  input.setAttribute('value', text)\r\n  input.select()\r\n  const res = document.execCommand('copy')\r\n  document.body.removeChild(input)\r\n  return res\r\n}\r\n","/**\r\n * 根据 html 字符串创建 Element 元素\r\n * @param {String} str html 字符串\r\n * @returns {Element} 创建的 Element 元素\r\n */\r\nexport function createElByString (str) {\r\n  const root = document.createElement('div')\r\n  root.innerHTML = str\r\n  return root.querySelector('*')\r\n}\r\n","/**\r\n * 函数去抖\r\n * 去抖 (debounce) 去抖就是对于一定时间段的连续的函数调用，只让其执行一次\r\n * 注: 包装后的函数如果两次操作间隔小于 delay 则不会被执行, 如果一直在操作就会一直不执行, 直到操作停止的时间大于 delay 最小间隔时间才会执行一次, 不管任何时间调用都需要停止操作等待最小延迟时间\r\n * 应用场景主要在那些连续的操作, 例如页面滚动监听, 包装后的函数只会执行最后一次\r\n * 注: 该函数第一次调用一定不会执行，第一次一定拿不到缓存值，后面的连续调用都会拿到上一次的缓存值。如果需要在第一次调用获取到的缓存值，则需要传入第三个参数 {@link init}，默认为 {@link undefined} 的可选参数\r\n * 注: 返回函数结果的高阶函数需要使用 {@link Proxy} 实现，以避免原函数原型链上的信息丢失\r\n *\r\n * @param {Number} delay 最小延迟时间，单位为 ms\r\n * @param {Function} action 真正需要执行的操作\r\n * @param {Object} [init=undefined] 初始的缓存值，不填默认为 {@link undefined}\r\n * @return {Function} 包装后有去抖功能的函数。该函数是异步的，与需要包装的函数 {@link action} 是否异步没有太大关联\r\n */\r\nexport function debounce (delay, action, init = undefined) {\r\n  let flag\r\n  let result = init\r\n  return new Proxy(action, {\r\n    apply (target, thisArg, args) {\r\n      return new Promise(resolve => {\r\n        if (flag) clearTimeout(flag)\r\n        flag = setTimeout(\r\n          () => resolve((result = Reflect.apply(target, thisArg, args))),\r\n          delay\r\n        )\r\n        setTimeout(() => resolve(result), delay)\r\n      })\r\n    },\r\n  })\r\n}\r\n","import { isNullOrUndefined } from './isNullOrUndefined'\r\nimport { getObjectValues } from './getObjectValues'\r\n\r\n/**\r\n * 递归使对象不可变\r\n * @param {Object} obj 任何非空对象\r\n * @returns {Object} 新的不可变对象\r\n */\r\nexport function deepFreeze (obj) {\r\n  if (isNullOrUndefined(obj)) {\r\n    return null\r\n  }\r\n  // 数组和对象分别处理\r\n  if (obj instanceof Array) {\r\n    obj.forEach(v => {\r\n      if (typeof v === 'object') {\r\n        deepFreeze(v)\r\n      }\r\n    })\r\n  } else if (obj instanceof Object) {\r\n    getObjectValues(obj).forEach(v => {\r\n      if (typeof v === 'object') {\r\n        deepFreeze(v)\r\n      }\r\n    })\r\n  }\r\n  return Object.freeze(obj)\r\n}\r\n","import { getObjectKeys } from './getObjectKeys'\r\n\r\n/**\r\n * 获取对象中所有的属性值，包括 ES6 新增的 Symbol 类型的属性\r\n * @param {Object} object 任何对象\r\n * @returns {Array.<String|Symbol>} 属性值数组\r\n */\r\nexport function getObjectValues (object) {\r\n  // @ts-ignore\r\n  return getObjectKeys(object).map(k => object[k])\r\n}\r\n","/**\r\n * 包装对象，使其成为可以任意深度调用而不会出现 undefined 调用的问题\r\n * 注意: 该函数不能进行递归调用（{@link JSON.stringfy}），一定会造成堆栈溢出的问题（RangeError: Maximum call stack size exceeded）\r\n * @param {Object} object 任意一个 Object 对象\r\n * @returns {Object} 包装后的对象\r\n */\r\nexport function deepProxy (object) {\r\n  const handler = {\r\n    get (target, k) {\r\n      Reflect.set(\r\n        target,\r\n        k,\r\n        Reflect.has(target, k) ? Reflect.get(target, k) : {}\r\n      )\r\n      const v = Reflect.get(target, k)\r\n      if (typeof v === 'object') {\r\n        return new Proxy(v, handler)\r\n      }\r\n      return v\r\n    },\r\n  }\r\n  return new Proxy(object, handler)\r\n}\r\n","/**\r\n * FormData 批量删除方法\r\n * @param {FormData} fd FormData 对象\r\n * @param {Array} keys  删除的 key 列表\r\n * @returns {FormData} 返回删除后的 FormData 对象\r\n */\r\nexport function deletes (fd, keys) {\r\n  keys.forEach(key => fd.delete(key))\r\n  return fd\r\n}\r\n","/**\r\n * 将一个谓词函数取反\r\n * @param {Function} fn 要取反的函数\r\n * @returns {Function} 取反得到的函数\r\n */\r\nexport function deny (fn) {\r\n  return new Proxy(fn, {\r\n    apply (_, _this, args) {\r\n      const result = Reflect.apply(_, this, args)\r\n      if (result instanceof Promise) {\r\n        return result.then(res => !res)\r\n      }\r\n      return !result\r\n    },\r\n  })\r\n}\r\n","import { getObjectKeys } from './getObjectKeys'\r\n\r\n/**\r\n * 将对象的所有属性置空\r\n * @param {Object} obj 需要置空属性的对象\r\n * @returns {Object} 返回一个新的对象\r\n */\r\nexport function emptyAllField (obj) {\r\n  return getObjectKeys(obj).reduce((res, k) => {\r\n    // @ts-ignore\r\n    res[k] = null\r\n    return res\r\n  }, {})\r\n}\r\n","import { excludeFields } from './excludeFields'\r\nimport { getObjectKeys } from './getObjectKeys'\r\n\r\n/**\r\n * 递归排除对象中的指定字段\r\n * @param {Object} object 需要排除的对象\r\n * @param  {...Object} fields 需要排除的字段\r\n */\r\nexport function excludeFieldsDeep (object, ...fields) {\r\n  const res =\r\n    object instanceof Array ? object : excludeFields(object, ...fields)\r\n  getObjectKeys(object).forEach(k => {\r\n    // @ts-ignore\r\n    const v = res[k]\r\n    if (v instanceof Object) {\r\n      // @ts-ignore\r\n      object[k] = excludeFieldsDeep(v, ...fields)\r\n    }\r\n  })\r\n  return res\r\n}\r\n","import { returnItself } from './../function/returnItself'\r\n\r\n/**\r\n * 从数组中移除指定的元素\r\n * 注: 时间复杂度为 1~3On\r\n * @param {Array} arr 需要被过滤的数组\r\n * @param {Array} deleteItems 要过滤的元素数组\r\n * @param {Function} [kFn=returnItself] 每个元素的唯一键函数\r\n */\r\nexport function filterItems (arr, deleteItems, kFn = returnItself) {\r\n  // @ts-ignore\r\n  const kSet = new Set(deleteItems.map(kFn))\r\n  return arr.filter((v, ...args) => !kSet.has(kFn(v, ...args)))\r\n}\r\n","/**\r\n * 比较两个浮点数是否相等\r\n * 具体实现采用差值取绝对值并与 {@link Number.EPSILON} 比较的方式，如果小于浮点数最小差值，则认为它们是 [相等] 的\r\n * @param {Number} num1 第一个浮点数\r\n * @param {Number} num2 第二个浮点数\r\n * @returns {Boolean} 两数是否相等\r\n */\r\nexport function floatEquals (num1, num2) {\r\n  return Math.abs(num1 - num2) < Number.EPSILON\r\n}\r\n","import { asIterator } from './../array/asIterator'\r\n\r\n/**\r\n * FormData 转换为包含所有键值数组的二维数组函数\r\n *\r\n * @param {FormData} fd 需要转换的 FormData 对象\r\n * @returns {Array} 转换后的数组\r\n * @deprecated 已被原生函数 Array.from 取代\r\n */\r\nexport function formDataToArray (fd) {\r\n  // @ts-ignore\r\n  return asIterator(fd.entries())\r\n}\r\n","/**\r\n * 字符串格式化\r\n *\r\n * @param {String} str 要进行格式化的值\r\n * @param {Object} args 格式化参数值，替换字符串中的 {} 的值\r\n * @returns {String} 替换完成的字符串\r\n * @deprecated 已废弃，请使用 ES6 模板字符串 {@url(https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/template_strings)}\r\n */\r\nexport function format (str, args) {\r\n  if (!args) {\r\n    return str\r\n  }\r\n  return Object.keys(args).reduce(\r\n    (res, k) => res.replace(new RegExp(`{${k}}`, 'g'), args[k]),\r\n    str\r\n  )\r\n}\r\n","/**\r\n * 获取 cookie 键值映射 Map\r\n * @returns {Map.<String,String>} cookie 键值映射 Map\r\n */\r\nexport function getCookies () {\r\n  return document.cookie\r\n    .split(';')\r\n    .map(str => str.split('='))\r\n    .map(arr => [arr[0].trim(), arr[1].trim()])\r\n    .reduce((res, [k, v]) => res.set(k, v), new Map())\r\n}\r\n","/**\r\n * 获取一年内的第多少星期\r\n * @deprecated 不推荐使用，请使用 {@link dateEnhance} 代替\r\n * @returns {Number}\r\n */\r\nexport function getYearWeek (date) {\r\n  /*\r\n    date1是当前日期\r\n    date2是当年第一天\r\n    d是当前日期是今年第多少天\r\n    用d + 当前年的第一天的周差距的和在除以7就是本年第几周\r\n    */\r\n  const nowTime = date.getTime()\r\n  const startTime = new Date(date.getFullYear(), 0, 1).getTime()\r\n  const difTime = nowTime - startTime\r\n  return Math.floor(difTime / (24 * 3600 * 1000) / 7)\r\n}\r\n","import { getCusorPostion } from './getCusorPostion'\r\nimport { setCusorPostion } from './setCusorPostion'\r\n\r\n/**\r\n * 在指定位置后插入文本\r\n * @param {HTMLFormElement} el 需要设置的输入框元素\r\n * @param {String} text 要插入的值\r\n * @param {Number} [start] 开始位置，默认为当前光标处\r\n */\r\nexport function insertText (el, text, start = getCusorPostion(el)) {\r\n  const value = el.value\r\n  el.value = value.substr(0, start) + text + value.substr(start)\r\n  setCusorPostion(el, start + text.length)\r\n}\r\n","import { stringValidator } from './stringValidator'\r\n\r\n/**\r\n * 判断一个字符串是否为空白的字符串\r\n * @param {String} str 字符串\r\n * @returns {Boolean} 是否为空字符串\r\n * @deprecated 已废弃，请使用 {@link stringValidator#isBlank}\r\n */\r\nexport function isBlank (str) {\r\n  return stringValidator.isBlank(str)\r\n}\r\n","import { toLowerCase } from '../string/toLowerCase'\r\n/**\r\n * 判断指定元素是否是可编辑元素\r\n * 注：可编辑元素并不一定能够进行编辑，例如只读的 input 元素\r\n * @param {Element} el 需要进行判断的元素\r\n * @returns {Boolean} 是否为可编辑元素\r\n */\r\nexport function isEditable (el) {\r\n  const inputEls = ['input', 'date', 'datetime', 'select', 'textarea']\r\n  return (\r\n    // 此处需要判断是否存在属性 isContentEditable\r\n    // @ts-ignore\r\n    el && (el.isContentEditable || inputEls.includes(toLowerCase(el.tagName)))\r\n  )\r\n}\r\n","import { stringValidator } from './stringValidator'\r\n\r\n/**\r\n * 判断一个字符串是否为空字符串\r\n * @param {String} str 字符串\r\n * @returns {Boolean} 是否为空字符串\r\n * @deprecated 已废弃，请使用 {@link stringValidator#isEmpty}\r\n */\r\nexport function isEmpty (str) {\r\n  return stringValidator.isEmpty(str)\r\n}\r\n","import { stringValidator } from './stringValidator'\r\n\r\n/**\r\n * 判断字符串是否位小数\r\n * @param {String} str 需要进行判断的字符串\r\n * @returns {Boolean} 是否为小数\r\n * @deprecated 已废弃，请使用 {@link stringValidator#isFloat}\r\n */\r\nexport function isFloat (str) {\r\n  return stringValidator.isFloat(str)\r\n}\r\n","import { stringValidator } from './stringValidator'\r\n\r\n/**\r\n * 判断字符串是否位整数\r\n * @param {String} str 需要进行判断的字符串\r\n * @returns {Boolean} 是否为小数\r\n * @deprecated 已废弃，请使用 {@link stringValidator#isInteger}\r\n */\r\nexport function isNumber (str) {\r\n  return stringValidator.isInteger(str)\r\n}\r\n","import { returnItself } from '../function/returnItself'\r\n\r\n/**\r\n * 将列表转换为树节点\r\n * 注: 该函数默认树的根节点只有一个，如果有多个，则返回一个数组\r\n * @param {Array.<Object>} list 树节点列表\r\n * @param {Object} [options] 其他选项\r\n * @param {Function} [options.isRoot] 判断节点是否为根节点。默认根节点的父节点为空\r\n * @param {Function} [options.bridge=returnItself] 桥接函数，默认返回自身\r\n * @returns {Object|Array.<String>} 树节点，或是树节点列表\r\n */\r\nexport function listToTree (\r\n  list,\r\n  { isRoot = node => !node.parentId, bridge = returnItself } = {}\r\n) {\r\n  const res = list.reduce((root, _sub) => {\r\n    const sub = bridge(_sub)\r\n    list.forEach(_parent => {\r\n      const parent = bridge(_parent)\r\n      if (sub.parentId === parent.id) {\r\n        (parent.child = parent.child || []).push(sub)\r\n      }\r\n    })\r\n    if (isRoot(sub)) {\r\n      root.push(sub)\r\n    }\r\n    return root\r\n  }, [])\r\n  // 根据顶级节点的数量决定如何返回\r\n  const len = res.length\r\n  if (len === 0) return {}\r\n  if (len === 1) return res[0]\r\n  return res\r\n}\r\n","/**\r\n * 加载一个远程脚本文件\r\n * @param {String} src 远程脚本路径\r\n * @returns {Promise} 等待异步加载脚本完成\r\n */\r\nexport function loadScript (src) {\r\n  return new Promise((resolve, reject) => {\r\n    const script = document.createElement('script')\r\n    script.src = src\r\n    script.addEventListener('load', resolve)\r\n    script.addEventListener('error', reject)\r\n    document.body.appendChild(script)\r\n  })\r\n}\r\n","/**\r\n * 将 Map 转换为 Object 对象\r\n * @param {Map} map Map 键值表\r\n * @returns {Object} 转换得到的 Object 对象\r\n */\r\nexport function mapToObject (map) {\r\n  const res = {}\r\n  // @ts-ignore\r\n  for (let [k, v] of map) {\r\n    res[k] = v\r\n  }\r\n  return res\r\n}\r\n","/**\r\n * 将参数对象转换为 FormData，只转换一层\r\n * @param data 参数对象\r\n * @return {FormData} 转换后的表单对象\r\n */\r\nexport function objToFormData (data) {\r\n  const fd = new FormData()\r\n  if (data) {\r\n    for (const k in data) {\r\n      if (data.hasOwnProperty(k)) {\r\n        const v = data[k]\r\n        fd.append(k, v)\r\n      }\r\n    }\r\n  }\r\n  return fd\r\n}\r\n","/**\r\n * 生成一个随机的数字\r\n * 如果没有参数，则会抛出异常\r\n * @param {Array.<Number>} args 参数列表，如果只有一个参数，则认为是最大值，最小值为 0。否则认为第一个是最小值，第二个是最大值，忽略剩余的参数\r\n * @returns {Number} 生成的随机整数\r\n */\r\nexport function randomInt (...args) {\r\n  let min\r\n  let max\r\n  if (args.length === 0) {\r\n    throw new Error('非法参数，必须指定最大值')\r\n  } else if (args.length === 1) {\r\n    min = 0\r\n    max = args[0]\r\n  } else if (args.length > 1) {\r\n    min = args[0]\r\n    max = args[1]\r\n  }\r\n  return min + Math.floor(Math.random() * (max - min))\r\n}\r\n","/**\r\n * 直接删除指定元素\r\n * @param {Element} el 需要删除的元素\r\n * @returns {Element} 返回被删除的元素\r\n */\r\nexport function removeEl (el) {\r\n  const parent = el.parentElement\r\n  return parent.removeChild(el)\r\n}\r\n","import { getCusorPostion } from './getCusorPostion'\r\nimport { setCusorPostion } from './setCusorPostion'\r\n\r\n/**\r\n * 在指定范围内删除文本\r\n * @param {HTMLFormElement} el 需要设置的输入框元素\r\n * @param {Number} [start] 开始位置，默认为当前选中开始位置\r\n * @param {Number} [end] 结束位置，默认为当前选中结束位置\r\n */\r\nexport function removeText (\r\n  el,\r\n  start = el.selectionStart,\r\n  end = el.selectionEnd\r\n) {\r\n  // 删除之前必须要 [记住] 当前光标的位置\r\n  const index = getCusorPostion(el)\r\n  const value = el.value\r\n  el.value = value.substr(0, start) + value.substr(end, value.length)\r\n  setCusorPostion(el, index)\r\n}\r\n","/**\r\n * 返回合理参数本身的函数\r\n * 1. 如果没有参数则返回 undefined\r\n * 2. 如果只有一个参数则返回参数本身\r\n * 3. 如果有两个以上的参数则返回参数列表\r\n * @param {...Object} args 任何对象\r\n * @returns {undefined|Object|Array.<Object>} 传入的参数\r\n */\r\nexport function returnReasonableItself (...args) {\r\n  const len = args.length\r\n  if (len === 0) {\r\n    return\r\n  }\r\n  if (len === 1) {\r\n    return args[0]\r\n  }\r\n  return args\r\n}\r\n","/**\r\n * FormData 批量设置方法\r\n * 注：该方法会覆盖掉原本的属性\r\n * @param {FormData} fd 表单对象\r\n * @param {Object} obj 键值对对象\r\n * @returns {FormData} 设置完成后的 FormData 对象\r\n */\r\nexport function sets (fd, obj) {\r\n  for (const k in obj) {\r\n    fd.set(k, obj[k])\r\n  }\r\n  return fd\r\n}\r\n","/**\r\n * 使用 Proxy 实现通用的单例模式\r\n * @param {Object} clazz 需要包装为单例的类型\r\n * @returns {Object} 包装后的单例模式类，使用 {@code new} 创建将只在第一次有效\r\n */\r\nexport function singleModel (clazz) {\r\n  let instance\r\n  return new Proxy(clazz, {\r\n    construct (target, args, newTarget) {\r\n      if (instance === undefined) {\r\n        instance = Reflect.construct(target, args, newTarget)\r\n      }\r\n      return instance\r\n    },\r\n  })\r\n}\r\n","/**\r\n * 阻塞主线程指定时间\r\n * 注: 和 {@link wait} 不同，该函数会真的阻塞住主线程，即这段时间内其他的代码都无法执行，例如用户的点击事件！\r\n * @param {Number} time 阻塞毫秒数\r\n */\r\nexport function sleep (time) {\r\n  const start = performance.now()\r\n  while (performance.now() - start <= time) {}\r\n}\r\n","import { groupBy } from './groupBy'\r\nimport { returnItself } from '../function/returnItself'\r\n\r\n/**\r\n * 快速根据指定函数对数组进行排序\r\n * 注: 使用递归实现，对于超大数组（其实前端的数组不可能特别大吧？#笑）可能造成堆栈溢出\r\n * @param {Array} arr 需要排序的数组\r\n * @param {Function} [kFn=returnItself] 对数组中每个元素都产生可比较的值的函数，默认返回自身进行比较\r\n * @returns {Array} 排序后的新数组\r\n */\r\nexport function sortBy (arr, kFn = returnItself) {\r\n  // 边界条件，如果传入数组的值\r\n  if (arr.length <= 1) {\r\n    return arr\r\n  }\r\n  // 根据中间值对数组分治为两个数组\r\n  const medianIndex = Math.floor(arr.length / 2)\r\n  const newArr = arr.slice()\r\n  const median = newArr.splice(medianIndex, 1)[0]\r\n  const medianValue = kFn(median, medianIndex, arr)\r\n  const map = groupBy(\r\n    newArr,\r\n    (item, ...args) => kFn(item, ...args) < medianValue\r\n  )\r\n  // 对两个数组分别进行递归排序\r\n  return [\r\n    ...sortBy(map.get(true) || [], kFn),\r\n    median,\r\n    ...sortBy(map.get(false) || [], kFn),\r\n  ]\r\n}\r\n","/**\r\n * 将字符串转为字符流\r\n *\r\n * @param {String} str 字符串\r\n * @returns {ArrayBuffer} 字符流对象\r\n */\r\nexport function strToArrayBuffer (str) {\r\n  const buf = new ArrayBuffer(str.length)\r\n  const view = new Uint8Array(buf)\r\n  for (let i = 0; i !== str.length; ++i) {\r\n    view[i] = str.charCodeAt(i) & 0xff\r\n  }\r\n  return buf\r\n}\r\n","import { dateParse } from './dateParse'\r\n\r\n/**\r\n * 解析字符串为 Date 对象\r\n * @deprecated 已弃用，请使用可读性更好的 {@link dateParse} 代替\r\n * @param {String} dateStr 日期字符串\r\n * @param {String} fmt 日期字符串的格式\r\n * 目前仅支持使用 y(年),M(月),d(日),h(时),m(分),s(秒),S(毫秒)\r\n * @returns {Date} 解析得到的 Date 对象\r\n */\r\nexport function strToDate (dateStr, fmt) {\r\n  return dateParse(dateStr, fmt)\r\n}\r\n","/**\r\n * 函数节流\r\n * 节流 (throttle) 让一个函数不要执行的太频繁，减少执行过快的调用，叫节流\r\n * 类似于上面而又不同于上面的函数去抖, 包装后函数在上一次操作执行过去了最小间隔时间后会直接执行, 否则会忽略该次操作\r\n * 与上面函数去抖的明显区别在连续操作时会按照最小间隔时间循环执行操作, 而非仅执行最后一次操作\r\n * 注: 该函数第一次调用一定会执行，不需要担心第一次拿不到缓存值，后面的连续调用都会拿到上一次的缓存值\r\n * 注: 返回函数结果的高阶函数需要使用 {@link Proxy} 实现，以避免原函数原型链上的信息丢失\r\n *\r\n * @param {Number} delay 最小间隔时间，单位为 ms\r\n * @param {Function} action 真正需要执行的操作\r\n * @return {Function} 包装后有节流功能的函数。该函数是异步的，与需要包装的函数 {@link action} 是否异步没有太大关联\r\n */\r\nexport function throttle (delay, action) {\r\n  let last = 0\r\n  let result\r\n  return new Proxy(action, {\r\n    apply (target, thisArg, args) {\r\n      return new Promise(resolve => {\r\n        const curr = Date.now()\r\n        if (curr - last > delay) {\r\n          result = Reflect.apply(target, thisArg, args)\r\n          last = curr\r\n          resolve(result)\r\n          return\r\n        }\r\n        resolve(result)\r\n      })\r\n    },\r\n  })\r\n}\r\n","/**\r\n * 将数组转化为一个 Object 对象\r\n * @deprecated 已废弃，请使用更好的 {@link arrayToMap} 替代\r\n * @param {Array.<Object>} arr 需要进行转换的数组\r\n * @param {Function} kFn 生成对象属性名的函数\r\n * @param {Function} [vFn] 生成对象属性值的函数，默认为数组中的迭代元素\r\n * @returns {Object} 转化得到的对象\r\n */\r\nexport function toObject (arr, kFn, vFn = item => item) {\r\n  return arr.reduce((res, item, ...args) => {\r\n    const k = kFn(item, ...args)\r\n    if (!Reflect.has(res, k)) {\r\n      res[k] = vFn(item, ...args)\r\n    }\r\n    return res\r\n  }, {})\r\n}\r\n","import { isNullOrUndefined } from '../obj/isNullOrUndefined'\r\n\r\n/**\r\n * 将任意对象转换为 String\r\n * 主要避免原生 Object toString 遇到某些空值的时候抛异常的问题\r\n * @param {Object} object 任意对象\r\n * @returns {String} 字符串\r\n */\r\nexport function toString (object) {\r\n  if (isNullOrUndefined(object)) {\r\n    return ''\r\n  }\r\n  if (object instanceof Date) {\r\n    return object.toISOString()\r\n  }\r\n  return object.toString()\r\n}\r\n","import { returnItself } from '../function/returnItself'\r\nimport { treeMapping } from './treeMapping'\r\n\r\n/**\r\n * 将树节点转为树节点列表\r\n * @param {Object} root 树节点\r\n * @param {Object} [options] 其他选项\r\n * @param {Boolean} [options.calcPath=false] 是否计算节点全路径，默认为 false\r\n * @param {Function} [options.bridge=returnItself] 桥接函数，默认返回自身\r\n * @returns {Array.<Object>} 树节点列表\r\n */\r\nexport function treeToList (\r\n  root,\r\n  { calcPath = false, bridge = returnItself } = {}\r\n) {\r\n  const res = []\r\n  // @ts-ignore\r\n  treeMapping(root, {\r\n    before (_node, parentPath) {\r\n      const node = bridge(_node)\r\n      // 是否计算全路径\r\n      if (calcPath) {\r\n        node.path = (parentPath ? parentPath + ',' : '') + node.id\r\n      }\r\n      // 此时追加到数组中\r\n      res.push(node)\r\n      return node\r\n    },\r\n    paramFn: node => (calcPath ? [node.path] : []),\r\n  })\r\n  return res\r\n}\r\n","/**\r\n * 包装一个函数为有错误重试功能的函数\r\n * 注: 如果发生错误，最终将抛出最后一次调用的异常\r\n * @param {Function} fn 需要被包装的函数\r\n * @param {Number} [num=1] 调用的次数。默认为 1\r\n * @param {Function} [errorCheck=res=>true] 检查返回结果是否需要重试的函数。默认只要 resolve() 就返回 true\r\n * @returns {Function} 包装后的有错误重试功能的函数\r\n */\r\nexport function trySometime (fn, num = 1, errorCheck = res => true) {\r\n  return new Proxy(fn, {\r\n    async apply (target, thisArg, args) {\r\n      let err\r\n      for (let i = 0; i < num; i++) {\r\n        try {\r\n          // 等待结果出来\r\n          const res = await Reflect.apply(target, thisArg, args)\r\n          // 如果没问题就直接返回了\r\n          if (errorCheck(res) === true) {\r\n            return res\r\n          }\r\n          // 否则抛出异常以进行下一次重试\r\n          throw res\r\n        } catch (error) {\r\n          err = error\r\n        }\r\n      }\r\n      throw err\r\n    },\r\n  })\r\n}\r\n","import { range } from '../array/range'\r\n\r\n/**\r\n * 包装一个函数为有错误重试功能的函数\r\n * 注意: 该函数是并行运行，所以一旦调用，就会同时调用 n 次，不管之前有没有失败。。。此函数不适合包装有副作用的操作，例如修改用户信息，请使用 {@link trySometime} 替代\r\n * @param {Function} fn 需要被包装的函数\r\n * @param {Number} [num=1] 调用的次数。默认为 1\r\n * @param {Function} [errorCheck=res=>true] 检查返回结果是否需要重试的函数。默认只要 resolve() 就返回 true\r\n * @returns {Function} 包装后的有错误重试功能的函数\r\n */\r\nexport function trySometimeParallel (fn, num = 1, errorCheck = res => true) {\r\n  return new Proxy(fn, {\r\n    async apply (target, thisArg, args) {\r\n      return new Promise(async (resolve, reject) => {\r\n        let err\r\n        try {\r\n          await Promise.all(\r\n            range(0, num).map(async () => {\r\n              try {\r\n                const res = await Reflect.apply(target, thisArg, args)\r\n                if (errorCheck(res) === true) {\r\n                  resolve(res)\r\n                }\r\n                throw res\r\n              } catch (error) {\r\n                err = error\r\n              }\r\n            })\r\n          )\r\n        } catch (error) {\r\n          console.log(error)\r\n        }\r\n        reject(err)\r\n      })\r\n    },\r\n  })\r\n}\r\n// ;(async () => {\r\n//   let num = 0\r\n//   // 模拟前两次调用都挂掉了\r\n//   const get = async i => {\r\n//     num++\r\n//     if (num < 3) {\r\n//       throw num\r\n//     }\r\n//     return i\r\n//   }\r\n//   // 重复调用两次\r\n//   const fn = trySometimeParallel(get, 2)\r\n//   try {\r\n//     const res = await fn(0)\r\n//     console.log(res)\r\n//   } catch (err) {\r\n//     console.log(err)\r\n//     // expect(err).toBe(2)\r\n//   }\r\n// })()\r\n","import { returnItself } from '../function/returnItself'\r\n\r\n/**\r\n * js 的数组去重方法\r\n * @param {Array.<Object>} arr 要进行去重的数组\r\n * @param {Function} [kFn=returnItself] 唯一标识元素的方法，默认使用 {@link returnItself}\r\n * @returns {Array.<Object>} 进行去重操作之后得到的新的数组 (原数组并未改变)\r\n */\r\nexport function uniqueBy (arr, kFn = returnItself) {\r\n  const set = new Set()\r\n  return arr.filter((v, ...args) => {\r\n    const k = kFn(v, ...args)\r\n    if (set.has(k)) {\r\n      return false\r\n    }\r\n    set.add(k)\r\n    return true\r\n  })\r\n}\r\n","/**\r\n * 轮询等待指定资源加载完毕再执行操作\r\n * 使用 Promises 实现，可以使用 ES7 的 {@async}/{@await} 调用\r\n * @param {Function} fn 判断必须的资源是否存在的方法\r\n * @param {Object} option 可配置项\r\n * @param {Number} [option.interval=100] 轮询间隔\r\n * @param {Number} [option.max=10] 最大轮询次数\r\n * @returns Promise 对象\r\n */\r\nexport function waitResource (fn, { interval = 100, max = 10 } = {}) {\r\n  let current = 0\r\n  return new Promise((resolve, reject) => {\r\n    const timer = setInterval(() => {\r\n      if (fn()) {\r\n        clearInterval(timer)\r\n        resolve()\r\n      }\r\n      current++\r\n      if (current >= max) {\r\n        clearInterval(timer)\r\n        reject(new Error('等待超时'))\r\n      }\r\n    }, interval)\r\n  })\r\n}\r\n","import { safeExec } from './safeExec'\r\n\r\n/**\r\n * 监视指定函数返回值的变化\r\n * @param {Function} fn 需要监视的函数\r\n * @param {Function} callback 回调函数\r\n * @param {Number} [interval=100] 每次检查的间隔时间，默认为 100ms\r\n * @returns {Function} 关闭这个监视函数\r\n */\r\nexport function watch (fn, callback, interval = 100) {\r\n  let oldVal = safeExec(fn)\r\n  const timer = setInterval(() => {\r\n    const newVal = safeExec(fn)\r\n    if (oldVal !== newVal) {\r\n      callback(newVal, oldVal)\r\n      oldVal = newVal\r\n    }\r\n  }, interval)\r\n  return () => clearInterval(timer)\r\n}\r\n","/**\r\n * 监听 event 的添加\r\n * 注：必须及早添加\r\n */\r\nexport function watchEventListener () {\r\n  /**\r\n   * 监听所有的 addEventListener, removeEventListener 事件\r\n   */\r\n  const documentAddEventListener = document.addEventListener\r\n  const eventTargetAddEventListener = EventTarget.prototype.addEventListener\r\n  const documentRemoveEventListener = document.removeEventListener\r\n  const eventTargetRemoveEventListener =\r\n    EventTarget.prototype.removeEventListener\r\n  const events = []\r\n\r\n  /**\r\n   * 用来保存监听到的事件信息\r\n   */\r\n  class Event {\r\n    constructor (el, type, listener, useCapture) {\r\n      this.el = el\r\n      this.type = type\r\n      this.listener = listener\r\n      this.useCapture = useCapture\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 自定义的添加事件监听函数\r\n   * @param {String} type 事件类型\r\n   * @param {EventListener} listener 事件监听函数\r\n   * @param {Boolean} [useCapture=true] 是否需要捕获事件冒泡，默认为 false\r\n   */\r\n  function addEventListener (type, listener, useCapture = false) {\r\n    const _this = this\r\n    const $addEventListener =\r\n      _this === document\r\n        ? documentAddEventListener\r\n        : eventTargetAddEventListener\r\n    events.push(new Event(_this, type, listener, useCapture))\r\n    $addEventListener.apply(this, arguments)\r\n  }\r\n\r\n  /**\r\n   * 自定义的根据类型删除事件函数\r\n   * 该方法会删除这个类型下面全部的监听函数，不管数量\r\n   * @param {String} type 事件类型\r\n   */\r\n  // @ts-ignore\r\n  function removeEventListenerByType (type) {\r\n    const _this = this\r\n    const $removeEventListener =\r\n      _this === document\r\n        ? documentRemoveEventListener\r\n        : eventTargetRemoveEventListener\r\n    const removeIndexArr = events\r\n      .map((e, i) => (e.el === _this || e.type === arguments[0] ? i : -1))\r\n      .filter(i => i !== -1)\r\n    removeIndexArr.forEach(i => {\r\n      const e = events[i]\r\n      $removeEventListener.apply(e.el, [e.type, e.listener, e.useCapture])\r\n    })\r\n    removeIndexArr.sort((a, b) => b - a).forEach(i => events.splice(i, 1))\r\n  }\r\n\r\n  (function initWatchDOM () {\r\n    document.addEventListener = EventTarget.prototype.addEventListener = addEventListener\r\n    // 此处是为了新增函数 removeEventListenerByType\r\n    // @ts-ignore\r\n    document.removeEventListenerByType = EventTarget.prototype.removeEventListenerByType = removeEventListenerByType\r\n  })()\r\n}\r\n","/**\r\n * 定义监听对象时的回调函数 doc\r\n * @callback WatchObjectCallback\r\n * @param {Object} target 代理的对象变化后的值\r\n * @param {String} k 变化的属性名\r\n * @param {Object} v 变化的属性值\r\n */\r\n\r\n/**\r\n * 深度监听指定对象属性的变化\r\n * 注：指定对象不能是原始类型，即不可变类型，而且对象本身的引用不能改变，最好使用 const 进行声明\r\n * @param {Object} object 需要监视的对象\r\n * @param {WatchObjectCallback} callback 当代理对象发生改变时的回调函数，回调函数有三个参数，分别是\r\n * @returns {Object} 返回源对象的一个代理\r\n */\r\nexport function watchObject (object, callback) {\r\n  const handler = {\r\n    get (target, k, receiver) {\r\n      try {\r\n        return new Proxy(target[k], handler)\r\n      } catch (err) {\r\n        return Reflect.get(target, k, receiver)\r\n      }\r\n    },\r\n    set (target, k, v, receiver) {\r\n      callback(target, k, v)\r\n      return Reflect.set(target, k, v, receiver)\r\n    },\r\n  }\r\n  return new Proxy(object, handler)\r\n}\r\n"],"names":["download","blob","filename","eleLink","document","createElement","style","display","href","URL","createObjectURL","body","appendChild","click","removeChild","runtime","exports","undefined","Op","Object","prototype","hasOwn","hasOwnProperty","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","self","tryLocsList","context","state","protoGenerator","Generator","generator","create","Context","_invoke","GenStateSuspendedStart","method","arg","GenStateExecuting","Error","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","type","done","GenStateSuspendedYield","value","fn","obj","call","err","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","AsyncIterator","previousPromise","callInvokeWithMethodAndArg","Promise","resolve","reject","invoke","result","__await","then","unwrapped","error","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","constructor","displayName","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","iter","toString","keys","object","key","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","module","regeneratorRuntime","accidentalStrictMode","Function","asyncGeneratorStep","gen","_next","_throw","args","arguments","apply","str","Blob","url","substr","lastIndexOf","fetch","res","console","log","arr","Array","isArray","_arr","_n","_d","_e","_s","_i","arrayWithHoles","iterableToArrayLimit","nonIterableRest","dom","init","src","window","instance","Constructor","UrlObject","website","protocol","domain","accessPath","params","port","protocol2Port","http","https","ssh","ftp","readLocal","file","DataURL","encoding","fr","FileReader","onload","event","target","onerror","dateFormat","date","fmt","o","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","Math","floor","getMilliseconds","k","RegExp","test","replace","$1","lens","Text","BinaryString","ArrayBuffer","deteFormatter","encode","v","encodeURIComponent","wait","param","setTimeout","timer","setInterval","clearInterval","fetchTimeout","fetchPromise","timeout","race","arr2","from","arrayWithoutHoles","iterableToArray","nonIterableSpread","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","FetchLimiting","limit","execCount","waitArr","_innerFetch","_this","shift","asIterator","flatMap","reduce","item","concat","groupBy","kFn","vFn","has","set","get","Map","range","start","end","sep","returnItself","arrayToMap","array","fill","len","lastFocusEl","DateFormat","format","index","dateFormats","year","month","day","hour","minute","second","millieSecond","dateParse","defaultDateValues","Date","dateUnits","fmtName","regExp","matchStr","exec","regexStr","indexOf","filter","sort","a","b","map","matchDateUnit","getCusorPostion","el","selectionStart","setCusorPostion","focus","setSelectionRange","isNullOrUndefined","toLowerCase","safeExec","defaultVal","addEventListener","_setPrototypeOf","p","_construct","Parent","Class","Reflect","construct","sham","Proxy","e","isNativeReflectConstruct","bind","StateMachine","classMap","clazz","entries","timing","begin","performance","now","FloatRule","IntegerRule","EmailRule","Ipv4Rule","TelephoneRule","MobileRule","DomainRule","PostcodeRule","stringValidator","isEmpty","trim","toUpperCase","blankToNull","getObjectKeys","ownKeys","excludeFields","fields","Set","dateConstants","isRange","num","min","max","DateEnhance","ceil","getTime","yearStart","getDay","dayOfYear","dayOfMonth","DateBetween","milliSecond","once","cache","flag","thisArg","onceOfSameParam","paramConverter","JSON","stringify","cacheMap","old","ArrayDiff","left","right","common","autoIncrementGenerator","_typeof2","_typeof","ReferenceError","assertThisInitialized","_getPrototypeOf","subClass","superClass","IConverter","list","CamelOrPascalFrom","c","substring","CamelConverter","s","PascalConverter","SnakeOrScreamingSnakeFrom","split","SnakeConverter","join","ScreamingSnakeConverter","stringStyleType","Camel","Pascal","Snake","ScreamingSnake","ConverterFactory","styleType","StringStyleConverter","to","fromConverter","getInstance","toConverter","_getConverter","StringStyleUtil","getConverter","convert","curry","realArgs","_","otherArgs","removeIndexSet","newArgs","add","newOtherArgs","_v","_curry","DateFormatter","parseFmt","dateFormatter","timeFormatter","dateTimeFormatter","source","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","TimeoutInfinite","CacheOption","timeStart","serialize","deserialize","getObjectEntries","assign","objects","ICache","cacheOption","parse","val","CacheVal","LocalStorageCache","localStorage","clearExpired","local","delKeys","getItem","cacheVal","removeItem","option","setItem","del","cacheUtil","identity","generateKey","origin","clear","emptyFunc","antiDebug","cyclingDebugger","checkDebug","location","reload","diff","disableConsoleOutput","arrayValidator","PathUtil","paths","_join","pathStart","pathEnd","endsWith","Separator","startsWith","pathUtil","logger","enable","message","_enable","objectToMap","bridge","excluded","sourceKeys","objectWithoutPropertiesLoose","sourceSymbolKeys","propertyIsEnumerable","treeMapping","root","before","after","paramFn","node","_treeMapping","_node","childs","child","NodeBridge","id","parentId","path","nodeBridgeUtil","nodeBridge","tree","_copyProps","innerField","prop","TimeoutInfinity","Locker","isLocked","mixins","__Aggregate","Mixin","fd","append","thanArr","thatArr","kThanSet","kThatSet","kLeftSet","takeQueue","_takeRun","tempArgs","compare","x","y","abs","Number","EPSILON","String","fns","reduceRight","fn1","fn2","_compose","text","input","setAttribute","select","execCommand","innerHTML","querySelector","delay","action","clearTimeout","deepFreeze","freeze","handler","delete","excludeFieldsDeep","deleteItems","kSet","num1","num2","cookie","difTime","isBlank","isContentEditable","includes","tagName","isFloat","isInteger","isRoot","_sub","sub","_parent","parent","script","data","FormData","temps","temp","markIndex","decodeURIComponent","vs","random","parentElement","selectionEnd","newTarget","time","sortBy","medianIndex","newArr","median","splice","medianValue","buf","view","Uint8Array","charCodeAt","dateStr","last","curr","toISOString","calcPath","parentPath","errorCheck","all","interval","current","callback","oldVal","newVal","documentAddEventListener","eventTargetAddEventListener","EventTarget","documentRemoveEventListener","removeEventListener","eventTargetRemoveEventListener","events","Event","listener","useCapture","$addEventListener","removeEventListenerByType","$removeEventListener","removeIndexArr","receiver"],"mappings":"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"}